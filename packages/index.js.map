{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///./loadUSGS.js","webpack:///./index.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./graph.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./TopBar.js","webpack:///./River.js","webpack:///./addGraphs.js","webpack:///./sort.js","webpack:///./search.js","webpack:///./distance.js","webpack:///./createLegend.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","arrayWithoutHoles","iterableToArray","nonIterableSpread","arr","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","fn","self","this","args","arguments","apply","err","undefined","usgsarray","loadUSGS","_ref","_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","timeToRequest","sites","val","url","usgsdata","response","request","_response","_i2","item","data","cfs","feet","latestCfs","latestFeet","elem","expanded","replacement","wrap","_context","prev","next","riverarray","length","usgs","push","join","Date","now","toISOString","window","fetch","sent","json","XMLHttpRequest","onload","event","target","open","send","JSON","parse","usgsDataAge","queryInfo","note","getTime","timeSeries","forEach","obj2","values","units","variable","variableDescription","sitecode","sourceInfo","siteCode","obj3","siteName","variablecode","variableCode","console","log","ItemHolder","flow","document","getElementById","base","parentNode","replaceChild","dispatchEvent","Event","e","stop","__webpack_exports__","oldresult","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__","_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","loadNewUSGS","updateLoadingStatus","updateExpansion","serviceWorkerMessages","serviceWorkerRegistered","registration","navigator","serviceWorker","onmessage","includes","oldLoadUSGS","addLine","require","assign","River","sort","map","index","NewList","query","type","reverse","toLowerCase","orderedlist","slice","String","normalSearch","advancedSearch","nlist","plat","plon","distanceto","div","appendChild","TopBar","searchbox","status","num","progress","position","output","coords","setInterval","innerHTML","repeat","geolocation","getCurrentPosition","t0","code","message","alert","clearInterval","latitude","longitude","accuracy","addEventListener","setTimeout","parameters","section","writeup","distance","Number","lat","lon","location","includeUnknown","checked","skill","getAdvancedSearchParameters","root","href","lastIndexOf","link","encodeURI","stringify","hash","search","decodeURI","runtime","Op","hasOwn","$Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","state","GenStateSuspendedStart","method","GenStateExecuting","Error","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","_sent","dispatchException","abrupt","record","tryCatch","GenStateSuspendedYield","makeInvokeMethod","obj","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","previousPromise","callInvokeWithMethodAndArg","invoke","result","__await","unwrapped","TypeError","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","constructor","displayName","isGeneratorFunction","genFun","ctor","setPrototypeOf","__proto__","awrap","async","iter","toString","keys","pop","skipTempReset","charAt","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","Function","GraphName","timeframe","Source","canvas","horizontal","vertical","color","graphtype","numplace","endcolor","height","width","ctx","getContext","warn","lineWidth","Math","ceil","min","beginPath","calcvertical","vscale","max","hscale","_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default","voffset","hoffset","px","floor","font","fillStyle","strokeStyle","grd","createLinearGradient","addColorStop","start","Text","precision","round","toFixed","fillText","formatDate","date","time","getHours","getMinutes","getMonth","getDate","getFullYear","darkMode","time1","time2","time3","starttime","endtime","midtime","textAlign","preciplist","fulldayprecip","halfdayprecip","H","Value","V","moveTo","valid","lineTo","stroke","Array","isArray","arr2","from","NewSpan","span","createElement","className","addSorting","onclick","button","id","Node","removeChild","addGraphs","addClickHandler","locate","river","tlat","tlon","aw","rel","dataAge","usgsNumber","usgsData","dateTime","calculateAge","oldDataWarning","style","backgroundColor","lineHeight","reloadButton","reload","disclaimer","fontWeight","marginTop","marginBottom","padding","insertBefore","nextSibling","calculateColor","options","str","trim","parseFloat","currentType","match","running","highlighted","calculateRatio","low","high","current","lightness","minrun","maxrun","midflow","pow","log10","lowflow","highflow","tags","rating","forceregenerate","finished","AddSpan","text","normalColor","focusedColor","img","src","alt","previous","calculateDirection","Remove","Code","ToDelete","createcanvas","fillRect","toparts","timestamps","temp","precip","parts","toDataURL","addFlowGraph","addTempGraph","addPrecipGraph","simpleSort","list","propertyName","b","alphabeticalsort","ratingsort","shift","skillsort","ToNum","noData","hasGauge","knownState","concat","runningSort","stringQuery","content","matchCase","stringFilter","skillToNumber","skillFilter","passes","ratingFilter","calculateDistance","lambert","locationFilter","maxDistance","lat1","lon1","lat2","hidlat","lon2","hidlon","flowFilter","indexOf","filter","advanced_search_modal","display","PI","reducedLat1","atan","tan","reducedLat2","angle","acos","sin","cos","q","flattening","updateLegend","clearRect","getComputedStyle","body","getPropertyValue","fontSize","firstChild","tooLowLightness","tooHighLightness","normalValueLightness","documentElement","clientWidth","gradient","redColor","blueColor","drawColors","drawText","elementOffset","offsetTop","pageYOffset","top","paddingTop","makeSticky"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 10);\n","module.exports = require(\"regenerator-runtime\");\n","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","self.usgsarray = {}\n\nlet loadUSGS = async function() {\n\n\tlet timeToRequest = 1000*86400 //Milliseconds of time to request\n\t\n    var sites = []\n    for (let i=0;i<riverarray.length;i++) {\n        let val = riverarray[i].usgs\n        //Check for accuracy\n        if (val && val.length > 7 && val.length < 16) {\n            sites.push(val)\n        }\n    }\n    let url = \"https://waterservices.usgs.gov/nwis/iv/?format=json&sites=\" + sites.join(\",\") +  \"&startDT=\" + new Date(Date.now()-timeToRequest).toISOString()  + \"&parameterCd=00060,00065,00010,00045&siteStatus=all\"\n\n    let usgsdata;\n    if (window.fetch) {\n        let response = await fetch(url)\n        usgsdata = await response.json()\n    }\n    else {\n        //For browsers that don't support fetch\n        let request = new XMLHttpRequest()\n        let response = await new Promise((resolve, reject) => {\n            request.onload = function(event) {resolve(event.target.response)};\n            request.open(\"GET\", url);\n            request.send()\n        })\n        usgsdata = JSON.parse(response)\n    }\n\n\t\n\twindow.usgsDataAge = Date.now() - (new Date(usgsdata.value.queryInfo.note[3].value).getTime() + timeToRequest) //TODO: Iterate through note and find requestDT\n\t\n\t\n    //Iterate through all known conditions\n    usgsdata.value.timeSeries.forEach(function(event){\n        let obj2 = {}\n        obj2.values = event.values[0].value //The values - ex. Gauge Height Array\n\n        if (obj2.values.length === 0) {\n            console.log(\"Empty Array. Skipping\")\n            return;\n        }\n\n        obj2.units = event.variable.variableDescription //Units of values\n\n        let sitecode = event.sourceInfo.siteCode[0].value\n        //See if the site is already in the array.\n        //If the site code is not in the array, add it.\n        if (!usgsarray[sitecode]) {\n            let obj3 = {}\n            obj3.name = event.sourceInfo.siteName\n            usgsarray[sitecode] = obj3\n        }\n\n        let variablecode = event.variable.variableCode[0].value\n\n        //Convert celcius to farenheight\n        if (variablecode === \"00010\" && obj2.units === \"Temperature, water, degrees Celsius\") {\n            for (let i=0;i<obj2.values.length;i++) {\n                obj2.values[i].value = obj2.values[i].value * 1.8 + 32\n            }\n\n            obj2.units = \"Temperature, water, degrees Fahrenheit\"\n        }\n\n\n        //Add the values onto the site code object\n        usgsarray[sitecode][variablecode] = obj2\n    })\n\n    //Add USGS Data to Graph\n    for (let i=0;i<ItemHolder.length;i++) {\n        let item = ItemHolder[i]\n        let data = usgsarray[item.usgs]\n\n        if (data) {\n            let cfs = data[\"00060\"]\n            let feet = data[\"00065\"]\n\n            //Prevent \"TypeError: Can't Read Property 'values' of undefined\"\n            if (cfs) {cfs = cfs.values}\n            if (feet) {feet = feet.values}\n\n\n            let latestCfs, latestFeet;\n            if (cfs) {\n                latestCfs = cfs[cfs.length - 1].value\n            }\n            if (feet) {\n                latestFeet = feet[feet.length - 1].value\n            }\n\n            item.feet = latestFeet\n            item.cfs = latestCfs\n\n            if (latestCfs && latestFeet) {\n                item.flow = latestCfs + \"cfs \" + latestFeet + \"ft\"\n            }\n            else if (latestCfs) {\n                item.flow = cfs[cfs.length - 1].value + \" cfs\"\n            }\n            else if (latestFeet) {\n                item.flow = feet[feet.length - 1].value + \" ft\"\n            }\n\n            //item.create(true) will force regeneration of the button\n            //Replace the current button so that the flow info shows\n            let elem = document.getElementById(item.base + \"1\")\n            let expanded = item.expanded\n            console.log(expanded)\n            let replacement = item.create(true) //Update the version in cache\n            try {\n                elem.parentNode.replaceChild(replacement, elem)\n                //If the river was expanded before, keep it expanded\n                if (expanded) {\n                    replacement.dispatchEvent(new Event(\"click\"))\n                    replacement.dispatchEvent(new Event(\"click\"))\n                }\n            }\n            catch (e) {} //The list must have been sorted - the node was not currently in list\n        }\n    }\n\n}\n\n\nexport {\nloadUSGS\n}\n","\n\n\n\n'use strict';\n\n\n\ntry {\n\twindow.loadNewUSGS = \"Trying to Load Data\"\n\twindow.updateLoadingStatus = function() {\n\t\tfor (let i=0;i<ItemHolder.length;i++) {\n\t\t\tItemHolder[i].updateExpansion()\n\t\t}\n\t}\n\twindow.serviceWorkerMessages = []\n\t//window.serviceWorkerRegistered will be called by allPages.js\n\twindow.serviceWorkerRegistered = function(registration) {\n\t\tnavigator.serviceWorker.onmessage = function(event) {\n\t\t\twindow.serviceWorkerMessages.push(event.data)\n\t\t\tlet data = event.data\n\n\t\t\tif (!data.includes(\"waterservices.usgs.gov\")) {return;}\n\t\t\t\n\t\t\twindow.oldLoadUSGS = window.loadNewUSGS\n\n\t\t\tif (data.includes(\"Updated cache for \")) {\n\t\t\t\twindow.loadNewUSGS = \"Reload to see latest data\"\n\t\t\t}\n\t\t\telse if (data.includes(\"errored. Used cache.\")) {\n\t\t\t\twindow.loadNewUSGS = \"Unable to load latest data\"\n\t\t\t}\n\t\t\telse if (data.includes(\" took too long to load from network\")) {\n\t\t\t\twindow.loadNewUSGS = \"Updating data in backgroud\"\n\t\t\t}\n\t\t\telse if (data.includes(\"has been loaded from the network\")) {\n\t\t\t\twindow.loadNewUSGS = \"This is likely a glitch. You should be viewing the latest data.\"\n\t\t\t}\n\t\t\twindow.updateLoadingStatus()\n\t\t}\n\t}\n}\ncatch(e) {console.error(e)}\n\ntry {\n\twindow.addLine = require(\"./graph.js\").addLine\n}\ncatch(e) {console.error(e)}\n\n\n//Defines window.TopBar and window.triangle\nObject.assign(window, require(\"./TopBar.js\"))\n\nwindow.River = require(\"./River.js\").River\n\nwindow.sort = require(\"./sort.js\").sort\n\n//Defines window.normalSearch and window.advanedSearch\nObject.assign(window, require(\"./search.js\"))\n\nwindow.usgsarray = {}\n\n\n//ItemHolder is a list of all the DOM elements objects. New objects should be pushed into the list.\nwindow.ItemHolder = []\nriverarray.map(function(event, index) {\n\tItemHolder[index] = new River(index, event)\n})\n\n\n//Fetch data from USGS\n//ItemHolder has been filled, so this can be run here (and needs to be.... Otherwise window.usgsarray is undefined)\nrequire(\"./loadUSGS.js\").loadUSGS()\n\n\nvar oldresult;\nwindow.NewList = function(query, type, reverse) {\n\tif (typeof(query) === \"string\") {\n\t\tquery = query.toLowerCase()\n\t}\n\t//Location searching uses numbers.\n\n\tlet orderedlist = ItemHolder.slice(0); //Clone the array\n\tif (!(String(query).length === 0 || !query || !type)) {\n\n\t\tif (type === \"sort\") {\n\t\t\t//Obey other filters\n\t\t\tif (oldresult) {\n\t\t\t\torderedlist = oldresult\n\t\t\t}\n\n\t\t\torderedlist = sort(query, orderedlist, reverse)\n\t\t}\n\t\tif (type === \"normal\") {\n\t\t\torderedlist = normalSearch(orderedlist, query)\n\t\t}\n\t\tif (type === \"advanced\") {\n\t\t\torderedlist = advancedSearch(orderedlist, query)\n\t\t}\n\t\tif (type === \"location\") {\n\t\t\tif (oldresult) {\n\t\t\t\torderedlist = oldresult\n\t\t\t}\n\n\t\t\tvar nlist = []\n\t\t\torderedlist.forEach(function(value){\n\t\t\t\tif (value.plat && value.plon) {\n\t\t\t\t\tif (distanceto(value.plat, value.plon) < query) {\n\t\t\t\t\t\tnlist.push(value)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\torderedlist = nlist\n\t\t}\n\n\n\t}//Closing for if a query is present\n\n\t//Clear Current\n\tItemHolder.forEach(function(event) {\n\t\tevent.delete()\n\t})\n\t//Append New\n\tvar div = document.getElementById(\"Rivers\")\n\t//Everything else\n\torderedlist.forEach(function(event){\n\t\tdiv.appendChild(event.create())\n\t})\n\n\tif (type !== \"sort\") {\n\t\toldresult = orderedlist\n\t}\n}\n\n\ndocument.getElementById(\"Rivers\").appendChild(new TopBar().create())\n//Needs a #Rivers > .riverbutton to get font-size using getComputedStyle\nrequire(\"./createLegend.js\")\n\n\nNewList(\"alphabetical\", \"sort\")\n\n\nlet searchbox = document.getElementById(\"searchbox\")\nsearchbox.addEventListener(\"keydown\", function() {setTimeout(function(){NewList(searchbox.value, \"normal\")}, 20)})\n\n\n//Generate advanced search parameters from menu\nfunction getAdvancedSearchParameters() {\n\tlet parameters = {}\n\n\tparameters.name = {\n\t\ttype: document.getElementById(\"nameType\").value,\n\t\tquery: document.getElementById(\"nameQuery\").value\n\t}\n\n\tparameters.section  = {\n\t\ttype: document.getElementById(\"sectionType\").value,\n\t\tquery: document.getElementById(\"sectionQuery\").value\n\t}\n\n\tparameters.writeup = {\n\t\ttype: document.getElementById(\"writeupType\").value,\n\t\tquery: document.getElementById(\"writeupQuery\").value\n\t}\n\n\n\n\tlet distance = Number(document.getElementById(\"distanceQuery\").value)\n\n\tlet lat = document.getElementById(\"latitudeQuery\").value\n\tlet lon = document.getElementById(\"longitudeQuery\").value\n\n\t//TODO: Parse other latitude and longitude formats\n\tlat = Number(lat)\n\tlon = Number(lon)\n\n\n\n\tif (!(distance > 0) && lat && lon) {\n\t\talert(\"Distance must be a number greater than 0 to use location sorting\")\n\t}\n\telse if (distance > 0 && !(lat && lon)) {\n\t\talert(\"You must enter a latitude and longitude (Get the coordinates from GPS by pressing Calculate my Location)\")\n\t}\n\telse if (distance > 0 && lat && lon) {\n\t\tparameters.location = {\n\t\t\tlat,\n\t\t\tlon,\n\t\t\tdistance,\n\t\t\tincludeUnknown: document.getElementById(\"includeUnknownLocation\").checked\n\t\t}\n\t}\n\n\n\tparameters.skill = {\n\t\ttype: \"from\",\n\t\tquery: [\n\t\t\tNumber(document.getElementById(\"skillQuery1\").value),\n\t\t\tNumber(document.getElementById(\"skillQuery2\").value)\n\t\t]\n\t}\n\n\tparameters.flow = {\n\t\ttype: \"from\",\n\t\tquery: [\n\t\t\tNumber(document.getElementById(\"flowQuery1\").value),\n\t\t\tNumber(document.getElementById(\"flowQuery2\").value)\n\t\t],\n\t\tincludeUnknown: document.getElementById(\"includeUnknownFlow\").checked\n\t}\n\t\n\t\n\treturn parameters\n}\n\n\nasync function calculateCoordinates() {\n\n\tlet status = document.getElementById(\"locationProgress\")\n\tlet num = 0\n\tlet progress = setInterval(function() {\n\t\tnum = (num+1)%6\n\t\tstatus.innerHTML = \"Calculating your Approximate Location (Expect this to take 15-60 seconds)\" + \".\".repeat(num)\n\t}, 500)\n\n\tlet position;\n\ttry {\n\t\tposition = await new Promise((resolve, reject) => {\n\t\t\tnavigator.geolocation.getCurrentPosition(resolve, reject)\n\t\t});\n\t}\n\tcatch(e) {\n\t\tlet output = \"Error code \" + e.code + \" occoured when getting your location. The error message is: \" + e.message\n\t\talert(output)\n\t\tclearInterval(progress)\n\t\tstatus.innerHTML = output\n\t}\n\n\n\tlet coords = position.coords\n\n\tclearInterval(progress)\n\n\tdocument.getElementById(\"latitudeQuery\").value = coords.latitude\n\tdocument.getElementById(\"longitudeQuery\").value = coords.longitude\n\tstatus.innerHTML = \"You are within \" + coords.accuracy + \" meters of \" + coords.latitude + \" degrees latitude and \" + coords.longitude + \" degrees longitude.\"\n}\n\ndocument.getElementById(\"calculateCoordinates\").addEventListener(\"click\", calculateCoordinates)\n\n\n\n\ndocument.getElementById(\"performadvancedsearch\").addEventListener(\"click\", function() {\n\tlet query = getAdvancedSearchParameters()\n\n\t//Add link to this search\n\t//This should run before NewList - otherwise the entire content is added to the object and URL\n\t//Find where rivers.run is located\n\t//This should allow rivers.run to the run from a directory\n\tlet root = window.location.href\n\troot = root.slice(0,root.lastIndexOf(\"/\") + 1) //Add 1 so we don't clip trailing slash\n\tlet link = encodeURI(root + \"#\" + JSON.stringify(query))\n\tdocument.getElementById(\"searchlink\").innerHTML = \"Link to this search: <a target=\\\"_blank\\\" href=\\\"\" + link + \"\\\">\" + link + \"</a>\"\n\n\tNewList(query, \"advanced\", false) //Currently no options are offered to sort or order advanced search\n})\n\n\n\n\n\n\n\n\n//Check if there is a search query\nif (window.location.hash.length > 0) {\n\tlet search = decodeURI(window.location.hash.slice(1))\n\n\ttry {\n\t\t//Do an advanced search if the query if an advanced search\n\t\tlet query = JSON.parse(search)\n\t\t\n\t\t//TODO: Set the advanced search areas to the query.\n\n\t\tNewList(query, \"advanced\")\n\n\n\t}\n\tcatch (e) {\n\t\t//Looks like we have a normal search query\n\t\tdocument.getElementById(\"searchbox\").value = search\n\t\tNewList(search, \"normal\")\n\t}\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","//Graph Code\n//It's Ugly... It should be fixed\n//BUT IT WORKS\n\n//addline(canvas, horizontal, vertical, color, graphtype, numplace)\n\n//canvas - HTML canvas element\n//horizontal - array of horizontal values. Pass 0 and it will evenly space.\n//vertical - array of vertical values\n\n//color - Optional. Color of line. Default black\n//graphtype - Optional. Specify 2 to put 2 lines and 2 scales on one graph. See numplace below\n//numplace - Use only if you are using graphtype = 2. \n//If you specify 0 or do not pass a value, the line's scale will be on the left side of the graph.\n//If you specify 1, the line's scale will be on the right side of the graph\nfunction addLine(GraphName, timeframe, Source, canvas, horizontal, vertical, color, graphtype, numplace) {\n    if (graphtype === 3) {\n        var endcolor = numplace\n        }\n    if (graphtype !== 2) {\n        numplace = 0\n    }\n    var height = canvas.height*0.80\n    var width = canvas.width\n\n    var ctx = canvas.getContext('2d');  \n\n\n\n    if (!isNaN(Number(horizontal))) {\n        horizontal = []\n        for (var i = 0;i<vertical.length;i++) {\n            horizontal.push(i*width)\n        }\n    }\n    if (horizontal.length !== vertical.length) {\n        console.warn(\"Uneven amount of datapoints. \" + horizontal.length + \" horizontal points found, but \" + vertical.length + \" vertical points found.\")\n    }\n\n    color = color || \"#000000\"\n    \n    ctx.lineWidth = Math.ceil(Math.min(width, height)/120)\n    ctx.beginPath();\n\n    if (graphtype === 2) {\n        width = width*0.86\n    }\n    else {\n        width = width*0.93\n    }\n\n    var calcvertical = []\n    for (var i = 0;i<vertical.length;i++) {\n        if (!isNaN(Number(vertical[i])) && (vertical[i]) !== \"\") {\n            calcvertical.push(vertical[i])\n        }\n        //else {\n        //This is a valid warning - It just got TOO ANNOYING\n        //console.warn(\"Element \" + i + \" in list is an invalid number. It had a value of: \" + vertical[i])\n        //}\n    }\n\n    var vscale = Math.max(...calcvertical) - Math.min(...calcvertical)\n    var hscale = Math.max(...horizontal) - Math.min(...horizontal)\n    vscale = height/vscale\n    hscale = width/hscale\n    var voffset = Math.min(...calcvertical)\n    var hoffset = Math.min(...horizontal)\n\n    hoffset -= (Math.max(...horizontal) - Math.min(...horizontal))*0.07\n\n    var px = Math.floor(((canvas.width)*0.07)/2.6)\n    ctx.font = (px + 'px serif')\n    if (color.length === 9) {\n        color = color.slice(0,7)\n    }\n    ctx.fillStyle = color\n    ctx.strokeStyle = color\n\n    if (graphtype === 3) {\n        var grd = ctx.createLinearGradient(0, 0, 0, height);\n        grd.addColorStop(0, color);   \n        grd.addColorStop(1, endcolor);\n        ctx.strokeStyle = grd;\n        ctx.fillStyle = grd;\n    }    \n\n    if (numplace === 0 || numplace === undefined) {\n        var start = 1\n        }\n    else {\n        var start = canvas.width-(canvas.width*0.07)\n        }\n    for(var i = 1;i<11;i++) {\n        var Text = ((Math.max(...calcvertical) - Math.min(...calcvertical))*((i-1)/10))+Math.min(...calcvertical)\n\n        let precision = Math.max(0, 3-String(Math.round(Text)).length)\n\n        Text = Number(Text.toFixed(precision))\n\n        ctx.fillText(Text, start, (height*(11-i))/10-5);\n    }\n\n    //Top one\n    Text = ((Math.max(...calcvertical) - Math.min(...calcvertical))*((i-1)/10))+Math.min(...calcvertical)\n\n    let precision = Math.max(0, 3-String(Math.round(Text)).length)\n\n    Text = Number(Text.toFixed(precision))\n\n    ctx.fillText(Text, start, 27);\n\n\n\n\n\n    var px = Math.floor(((canvas.width)*0.07)/2.8)\n    ctx.font = (px + 'px serif')\n    if (color.length === 9) {\n        color = color.slice(0,7)\n    }\n\n\n    if (!window.darkMode) {\n        ctx.fillStyle = \"black\"\n    }\n    else {\n        //Dark Mode\n        ctx.fillStyle = \"#cccccc\"\n    }    \n\n\n\n    function formatDate(date) {\n        var time = String(date.getHours())\n\n        if (date.getHours() < 10) {\n            time = \"0\" + time\n        }\n        time += \":\"\n        if (date.getMinutes() < 10) {\n            time += \"0\" + date.getMinutes()\n        }\n        else {\n            time += date.getMinutes()\n        }\n        time += \" \" + (date.getMonth()+1) + \"/\" + date.getDate() + \"/\" +date.getFullYear()\n        return time\n    }\n\n    var time1 = new Date(timeframe[0])\n    var time2 = new Date(timeframe[timeframe.length - 1])\n    var time3 = new Date(((time2-time1)/2)+time1.getTime())\n\n    var starttime = formatDate(time1)\n    var endtime = formatDate(time2)\n    var midtime = formatDate(time3)\n\n    ctx.fillText(starttime, 10, (canvas.height*(11/12))-(canvas.height*0.06)-12)\n\n    ctx.textAlign = \"end\"; \n    ctx.fillText(endtime, canvas.width-10, (canvas.height*(11/12))-(canvas.height*0.06)-12)\n\n    ctx.textAlign = \"center\"; \n    ctx.fillText(midtime, canvas.width/2, (canvas.height*(11/12))-(canvas.height*0.06)-12)\n\n    ctx.textAlign = \"start\";     \n\n\n\n    var px = Math.floor(((canvas.width)*0.07)/2.4)\n    ctx.font = (px + 'px serif')\n    ctx.fillStyle = color\n    //We need to create a gradient for just the text \"Water Temperature (F)\"\n    if (graphtype === 3) {\n        var grd = ctx.createLinearGradient(0, height, 200, height);\n        grd.addColorStop(0, color);   \n        grd.addColorStop(1, endcolor);\n        ctx.strokeStyle = grd;\n        ctx.fillStyle = grd;\n    }\n\n    if (graphtype === 2) {\n        if (numplace === 0 || numplace === undefined) {\n            ctx.fillText(\"Flow (Cubic Feet/Second)\", start+5, (canvas.height*(11/12)));    \n        }\n        else {\n            ctx.textAlign = \"right\"; \n            ctx.fillText(\"Gauge Height (Feet)\", start-5, (canvas.height*(11/12)));\n            ctx.textAlign = \"start\"; \n        } \n    }\n    else if (graphtype === 3) {\n        ctx.fillText(\"Water Temperature (°F)\", start+5, (canvas.height*(11/12)));    \n    }\n    else {\n        if (GraphName === \"Precipitation\") {\n            ctx.fillText(\"Precipitation (Inches)\", start+5, (canvas.height*(11/12))); \n            var fulldayprecip = 0\n            var halfdayprecip = 0\n            var preciplist = vertical.slice(-96)\n            var preciplist = preciplist.map(Number)\n            //convert strings to numbers\n            preciplist.forEach(function(value){\n                fulldayprecip += value\n            })\n            preciplist = preciplist.slice(-48)\n            preciplist.forEach(function(value){\n                halfdayprecip += value\n            })\n\n            fulldayprecip = fulldayprecip.toFixed(2)\n            halfdayprecip = halfdayprecip.toFixed(2)\n\n            ctx.fillText(\"Last 24 Hours: \" + fulldayprecip + \" in\", canvas.width-700, (canvas.height*(11/12))); \n            ctx.fillText(\"Last 12 Hours: \" + halfdayprecip + \" in\", canvas.width-330, (canvas.height*(11/12))); \n        }\n        else if (GraphName === \"cfs\") {\n            ctx.fillText(\"Flow (Cubic Feet/Second)\", start+5, (canvas.height*(11/12)));    \n        }\n        else if (GraphName === \"height\") {\n            ctx.fillText(\"Gauge Height (Feet)\", start+5, (canvas.height*(11/12)));    \n        }\n        else {\n            ctx.fillText(\"Labeling Error...\", start+5, (canvas.height*(11/12)));    \n        }    \n    }\n\n    //set it back    \n    if (graphtype === 3) {\n        //The area that actually has the graph is the top 80% height wise\n        var grd = ctx.createLinearGradient(0, 0, 0, canvas.height*0.8);\n        grd.addColorStop(0, color);   \n        grd.addColorStop(1, endcolor);\n        ctx.strokeStyle = grd;\n        ctx.fillStyle = grd;\n    }\n\n    if (!window.darkMode) {\n        ctx.fillStyle = \"black\"\n    }\n    else {\n        //Dark Mode\n        ctx.fillStyle = \"#cccccc\"\n    }\n\n    ctx.textAlign = \"center\"; \n    ctx.fillText(Source, canvas.width/2 , canvas.height-10);  \n    ctx.textAlign = \"start\"; \n\n\n\n\n    function H(Value) {\n        return Math.round((Value-hoffset)*hscale)\n    }\n\n    function V(Value) {\n        return Math.round(height-((Value-voffset)*vscale))\n    }\n\n\n    for (var p = 0;p<Math.min(vertical.length, horizontal.length);p++) {\n        if (!isNaN(Number(vertical[p])) && vertical[p] !== \"\") {\n            ctx.moveTo(H(horizontal[p]), V(vertical[p]))\n            break;\n        }    \n    }\n\n\n    var valid = 1\n\n    for (var i = p;i<Math.min(vertical.length, horizontal.length);i++) {\n        if (!isNaN(Number(vertical[i])) && vertical[i] !== \"\") {\n            if (valid === 1) {\n                ctx.lineTo(H(horizontal[i]), V(vertical[i]))\n            }\n            else {\n                ctx.moveTo(H(horizontal[i]), V(vertical[i])+10)\n                ctx.lineTo(H(horizontal[i]), V(vertical[i]))\n                valid = 1\n            }\n        }\n        else {\n            valid = 0\n        }\n    }\n\n\n    ctx.stroke();\n    ctx.beginPath()\n\n    ctx.lineWidth = Math.ceil(ctx.lineWidth/10)\n\n    if (!window.darkMode) {\n        ctx.strokeStyle = \"000000AA\"\n    }\n    else {\n        //Dark Mode\n        ctx.strokeStyle = \"#ccccccAA\"\n    }\n\n    for (var i = 1;i<11;i++) {\n        ctx.moveTo(0, height*(11-i)/10)\n        ctx.lineTo(canvas.width, height*(11-i)/10)\n    }\n    ctx.stroke()\n}    \n\n\nexport {\n    addLine\n}\n","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","function NewSpan(Text) {\n    let span = document.createElement(\"span\")\n    span.className = \"riverspan\"\n    span.innerHTML = Text\n    return span\n}\n\nfunction addSorting(span, type) {\n    span.onclick = function() {\n        if (this.value === 1) {\n            NewList(type, \"sort\", true) //Reversed\n            this.value = 0\n        }\n        else {\n            NewList(type, \"sort\")\n            this.value = 1\n        }\n    }\n}\n\n\nfunction TopBar() {\n    this.create = function() {\n        let button = document.createElement(\"button\")\n        button.id = \"topbar\"\n        button.className = \"riverbutton\"\n\n\n        let span = NewSpan(\"River⇅\")\n        addSorting(span, \"alphabetical\")\n        span.value = 1//Starts sorted alphabetically, a-z. The first sort needs to reverse that.\n        button.appendChild(span)\n\n        button.appendChild(NewSpan(\"Section\"))\n\n        span = NewSpan(\"Skill⇅\")\n        addSorting(span, \"skill\")\n        span.value = 0\n        button.appendChild(span) \n\n        span = NewSpan(\"Rating⇅\")\n        addSorting(span, \"rating\")\n        span.value = 1 //We want greatest first, not least first, on the first sort\n        button.appendChild(span) \n\n        span = NewSpan(\"Flow Info/Trend⇅\")\n        addSorting(span, \"running\")\n        span.value = 1 //Show highest flow first, instead of lowest\n        button.appendChild(span)\n\n        return button\n    }\n\n    this.delete = function() {\n        let Node = document.getElementById(\"topbar\")\n        if (Node) {\n            Node.parentNode.removeChild(Node)\n        }\n    }\n}\n\n\nmodule.exports = {\n    TopBar\n}\n","\nlet addGraphs = require(\"./addGraphs.js\").addGraphs\n\n\n\nfunction addClickHandler(button, locate) {\n    //Code that runs when the button is clicked\n    button.onclick = function () {\n        let river = ItemHolder[locate]\n        if (river.expanded === 0) {\n            river.expanded = 1\n            var div = document.createElement(\"div\")\n\n            div.innerHTML = river.writeup + \"<br><br>\"\n\n            if (river.plat && river.plon) {\n                div.innerHTML += \"Put-In GPS Coordinates: \" + river.plat + \", \" + river.plon + \"<br>\"\n            }\n\n            if (river.tlat && river.tlon) {\n                div.innerHTML += \"Take-Out GPS Coordinates: \" + river.tlat + \", \" + river.tlon + \"<br>\"\n            }\n\n            let values = [\"minrun\", \"lowflow\", \"midflow\", \"highflow\", \"maxrun\"]\n            for (let i=0;i<values.length;i++) {\n                let name = values[i]\n                if (river[name]) {\n                    div.innerHTML += name + \":\" + river[name] + \" \"\n                }\n            }\n\n\n            if (river.aw) {\n                //Adding to div.innerHTML works, but logs CSP errors\n                div.appendChild(document.createElement(\"br\"))\n                let link = document.createElement(\"a\")\n                link.target = \"_blank\"\n                link.rel = \"noopener\"\n                link.href = \"https://www.americanwhitewater.org/content/River/detail/id/\" + river.aw\n                link.innerHTML = \"Click here to view this river on American Whitewater\"\n                div.appendChild(link)\n            }\n\n            //USGS data may not have loaded yet\n\t\t\tif (self.usgsarray && river.usgs) {\n\t\t\t\t//Alert the user if the data is (at least 2 hours) old\n\n\t\t\t\tlet dataAge\n                try {\n                    dataAge = calculateAge(river.usgs)\n                }\n                catch(e) {\n                    console.error(e)\n                    dataAge = null\n                }\n                let maxAge = 1000*60*60*2\t\t\t\t\n                let oldDataWarning;\n\t\t\t\tif (dataAge > maxAge) {\n\t\t\t\t\toldDataWarning = document.createElement(\"p\")\n\t\t\t\t\toldDataWarning.style.backgroundColor = \"yellow\"\n\t\t\t\t\toldDataWarning.innerHTML = \"Check the dates! This river data is more than \" + Math.floor(dataAge/1000/60/60) +\" hours old!\"\n\n\t\t\t\t\toldDataWarning.innerHTML += \" (\" + window.loadNewUSGS + \") \"\n                    oldDataWarning.style.textAlign = \"center\"\n                    oldDataWarning.style.lineHeight = \"2em\"\n                    oldDataWarning.style.color = \"black\" //Make sure that in dark mode, the text is not white\n\t\t\t\t\t\n\t\t\t\t\tlet reloadButton = document.createElement(\"button\")\n\t\t\t\t\tif (window.loadNewUSGS = \"Reload to see latest data\") {\n\t\t\t\t\t\treloadButton.addEventListener(\"click\", function() {\n\t\t\t\t\t\t\twindow.location.reload() //If we set window.location.reload as the event listener, Chrome and Safari error.\n\t\t\t\t\t\t})\n\t\t\t\t\t\treloadButton.innerHTML = \"Reload\"\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\treloadButton.addEventListener(\"click\", function() {\n\t\t\t\t\t\t\twindow.loadNewUSGS = \"Trying to Load Data\"\n\t\t\t\t\t\t\trequire(\"./loadUSGS.js\").loadUSGS()\n\t\t\t\t\t\t\twindow.updateLoadingStatus()\n\t\t\t\t\t\t})\n\t\t\t\t\t\treloadButton.innerHTML = \"Try Again\"\n\t\t\t\t\t}\n\t\t\t\t\t\n\n\t\t\t\t\toldDataWarning.appendChild(reloadButton)\n\t\t\t\t\t\n\t\t\t\t\tdiv.appendChild(oldDataWarning)\n\t\t\t\t}\n\n                let data = self.usgsarray[river.usgs]\n                if (data) {\n                    let disclaimer = document.createElement(\"p\")\n                    disclaimer.style.fontWeight = \"bold\"\n                    disclaimer.style.textAlign = \"center\"\n                    disclaimer.innerHTML = \"Disclaimer: USGS Gauge data is provisional, and MIGHT be incorrect. Use at your own risk.\"\n                    div.appendChild(disclaimer)\n\n                    if (!(dataAge > maxAge)) {\n                        disclaimer.style.marginTop = \"2em\" //Space the disclaimer from the content above\n                    }\n                    else {\n                        disclaimer.style.marginTop = \"0.5em\" //Make the disclaimer closer to the warning\n                        oldDataWarning.style.marginBottom = \"0.5em\"\n\n                    }\n                    addGraphs(div, data)\n                }\n\t\t\t}\n\n\n            div.style.padding = \"6px\"\n            div.id = river.base + 2\n            button.parentNode.insertBefore(div, button.nextSibling)\n        }\n        else {\n            river.expanded = 0\n            var elem = document.getElementById(river.base + 2)\n            if (elem) {\n                elem.parentNode.removeChild(elem)\n            }\n\n        }\n    }\n}\n\n\n\n\nfunction calculateDirection(usgsNumber) {\n    let usgsData = usgsarray[usgsNumber]\n    if (usgsData) {\n        let data;\n\n        if (usgsData[\"00060\"]) {data = usgsData[\"00060\"].values}\n        else if (usgsData[\"00065\"]) {data = usgsData[\"00065\"].values}\n\n        if (data) {\n            let current;\n            let previous;\n\n            //We will go back 4 datapoints (1 hour) if possible.\n            //Do this because USGS sometimes does 1 hour intervals instead of 15 minutes\n            let stop = Math.max(data.length-5, 0)\n            for (let i=data.length;i>stop;i--) {\n                let item = data[i]\n                if (!item) {continue}\n                let value = item.value\n                if (!current) {\n                    current = value\n                }\n                else {\n                    previous = value\n                }\n            }\n\n            if (current > previous) {\n                //Water level rising\n                return \"⬆\"\n            }\n            else if (previous > current) {\n                //Water level falling\n                return \"⬇\"\n            }\n            else if (current === previous) {\n                //Water level stable\n                return \"-\"\n            }\n\n        }\n    }\n    return; //If we got here, there is not enough USGS data.\n}\n\n\n\nfunction calculateAge(usgsNumber) {\n\t//Returns millseconds old that USGS data is\n    let usgsData = window.usgsarray[usgsNumber]\n    if (usgsData) {\n        let data;\n\n        if (usgsData[\"00060\"]) {data = usgsData[\"00060\"].values}\n        else if (usgsData[\"00065\"]) {data = usgsData[\"00065\"].values}\n        else if (usgsData[\"00010\"]) {data = usgsData[\"00010\"].values}\n        else if (usgsData[\"00045\"]) {data = usgsData[\"00045\"].values}\n\n        if (data) {\n            for (let i=data.length;i>=0;i--) {\n                let item = data[i]\n                if (!item) {continue}\n                return Date.now() - Number(new Date(item.dateTime))\n            }\n        }\n    }\n    return null; //If we got here, there is not enough USGS data.\n}\n\n\n\nfunction calculateColor(river, options) {\n    //hsla color values\n    //hsla(hue, saturation, lightness, opacity)\n    //Saturation hue is 0 red 120 green 240 blue\n    //Saturation - use 100%\n    //Lightness - use 50%\n    //Opacity - Decimal 0 to 1\n\n\n    //Defines river.running\n    //0-4\n    //0 is too low, 4 is too high, other values in between\n\n\n    let values = [\"minrun\", \"lowflow\", \"midflow\", \"highflow\", \"maxrun\"]\n\n    let type; //Currently, we skip a value if one datapoint is cfs and another feet\n\n    for (let i=0;i<values.length;i++) {\n\n        let str = river[values[i]]\n        if (!str) {\n            values[i] = undefined\n            continue;\n        }\n\n        str = str.trim()\n        let value = parseFloat(str)\n        let currentType = str.match(/[^\\d|.]+/) //Match the integer or decimal number\n\n        if (currentType) {\n            currentType = currentType[0].trim() //Match a string of non-digits\n        }\n\n        if (!type && currentType) {\n            type = currentType\n        }\n        else if (type === currentType) {}\n        else {\n            console.warn(values[i] + \" on \" + river.name + \" \" + river.section + \" has a different extension and has been skipped\")\n            values[i] = undefined\n            continue;\n        }\n\n        values[i] = value\n    }\n\n    let flow;\n    if (type === \"cfs\") {\n        flow = river.cfs\n    }\n    else if (type === \"feet\" || type===\"ft\") {\n        flow = river.feet\n    }\n\n\n    //Use or equal to\n    //While that technically may not be correct (says that river is too low at minrun), it makes no significant difference\n    //In addition, values equal to minrun or maxrun result in a river.running of 0 or 4\n    //Meaning that they may be included in the middle of a darker highlighted rivers\n    //When sorting by runnability is used.\n\n    //It would be better if rivers that are too high or too low are still given river.running values\n    //related to their level. This would also help in determining if something is just barely\n    //too low, and may come up with rain, or is truely too low.\n\n\n    if (flow <= values[0]) {\n        //Too low\n        river.running = 0\n\t    let lightness = (options && options.highlighted)? (window.darkMode? \"35%\": \"60%\"):  window.darkMode? \"30%\": \"70%\"\n        return \"hsl(0,100%,\" + lightness + \")\"\n    }\n    else if (flow >= values[4]) {0\n        //Too high\n        river.running = 4\n    \tlet lightness = (options && options.highlighted)? (window.darkMode? \"30%\": \"65%\"):  window.darkMode? \"20%\": \"70%\"\n        return \"hsl(240,100%,\" + lightness + \")\"\n    }\n    else {\n\n\t\t//Normal Flow lightness values\n    \tlet lightness = (options && options.highlighted)? (window.darkMode? \"35%\": \"65%\"): (window.darkMode? \"25%\": \"75%\")\n\n\t\t//If we don't have some values, fill them in using logarithms\n        //TODO: Do some analyzsis and figure out the best way to do these calculations\n\n        let minrun = values[0]\n        let maxrun = values[4]\n        let midflow = values[2] || 10**((Math.log10(minrun) + Math.log10(maxrun))/2)\n        let lowflow = values[1] || 10**((Math.log10(minrun) + Math.log10(midflow))/2)\n        let highflow = values[3] || 10**((Math.log10(midflow) + Math.log10(maxrun))/2)\n\n        //We display these so people can tell what values the computer has generated.\n        river.lowflow = parseFloat(lowflow.toFixed(3)) + type\n        river.midflow = parseFloat(midflow.toFixed(3)) + type\n        river.highflow = parseFloat(highflow.toFixed(3)) + type\n\n        function calculateRatio(low, high, current) {\n            low = Math.log(low)\n            high = Math.log(high)\n\n            current = Math.log(current)\n\n\n            let range = high-low\n            let value = current-low\n\n            return value/range\n\n        }\n\n        if (flow < lowflow) {\n            river.running = calculateRatio(minrun, lowflow, flow)\n        }\n        else if (flow < midflow) {\n            river.running = 1+calculateRatio(lowflow, midflow, flow)\n        }\n        else if (flow < highflow) {\n            river.running = 2+calculateRatio(midflow, highflow, flow)\n        }\n        else {\n            river.running = 3+calculateRatio(highflow, maxrun, flow)\n        }\n\n        return \"hsl(\" + (0 + 60*river.running) + \",100%,\" + lightness + \")\"\n    }\n}\n\n\n\n\n\n\n\nmodule.exports.River = function(locate, event) {\n\n    //Copies name, section, skill, rating, writeup, tags, usgs, plat,plon, tlat,tlon, aw\n    Object.assign(this, event)\n    //tags needs to be a string. It can't be undefined\n    this.tags = this.tags || \"\"\n    //Convert the numeric value to the filename\n    switch (Number(this.rating)) {\n        case 1:\n            this.rating = \"1Star\";\n            break;\n        case 2:\n        case 3:\n        case 4:\n        case 5:\n            this.rating = event.rating + \"Stars\";\n            break;\n        default:\n            this.rating = \"Error\"\n    }\n    if (!this.rating) {\n        this.rating = \"Error\"\n    }\n\n    this.skill = this.skill || \"?\"\n\n    this.base = \"b\" + locate\n    this.expanded = 0\n    this.index = locate\n\n\n    this.create = function (forceregenerate) {\n        //Only create the button once - It's about 3 times faster.\n        if (!this.finished || forceregenerate) {\n\n            var button = document.createElement(\"button\")\n            button.id = this.base + 1\n\n            button.normalColor = window.darkMode ? \"\" : \"\" //Inherit from CSS\n            button.focusedColor = window.darkMode ? \"#333333\" : \"#e3e3e3\"\n\n            function AddSpan(text) {\n                let span = document.createElement(\"span\")\n                span.innerHTML = text\n                span.className = \"riverspan\"\n                button.appendChild(span)\n                return span\n            }\n\n            AddSpan(this.name)\n            AddSpan(this.section)\n            AddSpan(this.skill)\n\n            //Star images for rating\n            if (this.rating === \"Error\") {\n                AddSpan(\"???\")\n            }\n            else {\n                let img = document.createElement(\"img\")\n                img.src = \"resources/\" + this.rating + \".png\"\n                img.alt = this.rating[0] + \" Stars\"\n                img.className = \"starimg\"\n                let span = document.createElement(\"span\")\n                span.appendChild(img)\n                span.className = \"riverspan\"\n                button.appendChild(span)\n            }\n\n            if (this.flow) {\n                let flowSpan = AddSpan(this.flow + calculateDirection(this.usgs))\n                if (this.minrun && this.maxrun) {\n                    button.normalColor = calculateColor(this)\n                    button.focusedColor = calculateColor(this, {highlighted: true})\n                }\n            }\n\n\n            button.className = \"riverbutton\"\n            //Add the click handler\n            addClickHandler(button, locate)\n\n\n            button.addEventListener(\"mouseover\", function(){this.style.backgroundColor = this.focusedColor})\n            button.addEventListener(\"mouseout\", function(){this.style.backgroundColor = this.normalColor})\n\n            //Store button for reuse later\n            this.finished = button\n\n        }\n\t\t\n\t\tthis.updateExpansion = function() {\n\t\t\tif (this.expanded) {\n            \tlet elem = document.getElementById(this.base + \"1\")\n                elem.dispatchEvent(new Event(\"click\"))\n                elem.dispatchEvent(new Event(\"click\"))\n\t\t\t}\n\t\t}\n\n        this.finished.style.backgroundColor = this.finished.normalColor\n\n        //Return finished button\n        return this.finished\n\n    }\n\n\n    this.delete = function () {\n        let river = ItemHolder[locate]\n        function Remove(Code) {\n            let ToDelete = document.getElementById(river.base + Code)\n            if (ToDelete) {\n                ToDelete.parentNode.removeChild(ToDelete)\n            }\n        }\n\n        //Reset background color\n        let reset = document.getElementById(river.base + 1)\n        if (reset) {\n            reset.style.backgroundColor = \"\"\n        }\n\n        Remove(2)\n        Remove(1)\n\n    }\n}\n","\n//Auxillary Function\n//Creates the canvas used by each of the graphs\nfunction createcanvas() {\n    let canvas = document.createElement(\"canvas\")\n    canvas.width = 1200\n    canvas.height = 800\n\n    //Make sure the background is not transparent\n    let ctx = canvas.getContext(\"2d\");\n    if (!window.darkMode) {\n        ctx.fillStyle = \"white\";\n    }\n    else {\n        //Dark Mode\n        ctx.fillStyle = \"black\"\n    }\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n    return canvas\n}\n\n\n//Auxillary Function\nfunction toparts(arr) {\n    let values = []\n    let timestamps = []\n\n    for (let i=0;i<arr.length;i++) {\n        let obj = arr[i]\n        values.push(obj.value)\n        timestamps.push(obj.dateTime)\n    }\n\n    return {values:values,timestamps:timestamps}\n}\n\n\nfunction addFlowGraph(div, cfs, height, data) {\n    //Make sure we actually have some data, and don't create an empty graph\n    if (!(cfs || height)) {return}\n\n    let canvas = createcanvas()\n    //Time to create a dual lined graph!\n    if (cfs && height) {\n        let parts = toparts(cfs.values)\n        addLine(\"cfs\", parts.timestamps, data.name, canvas, 0, parts.values, \"#00AAFFa0\", 2)\n        parts = toparts(height.values)\n        addLine(\"height\", parts.timestamps, data.name, canvas, 0, parts.values, \"#2222FFa0\", 2, 1)\n    }\n    //We won't have both cfs and height. Draw a single line graph for whichever we have.\n    else if (cfs) {\n        let parts = toparts(cfs.values)\n        addLine(\"cfs\", parts.timestamps, data.name, canvas, 0, parts.values, \"#00AAFF\")\n    }\n    else {\n        let parts = toparts(height.values)\n        addLine(\"height\", parts.timestamps, data.name, canvas, 0, parts.values, \"#2222FF\")\n    }\n\n    //For some reason, only the last canvas was showing. Use images\n    //Images also allow \"Save Image As\"\n    let img = document.createElement(\"img\")\n    img.className = \"graph\"\n    //Blobs may be faster - but I don't know of a synchronus method\n    img.src = canvas.toDataURL(\"image/png\")\n\n    div.appendChild(img)\n}\n\n\nfunction addTempGraph(div, temp, data) {\n    if (temp) {\n        let canvas = createcanvas()\n\n        let parts = toparts(temp.values)\n        addLine(\"\", parts.timestamps, data.name, canvas, 0, parts.values, \"#FF0000\", 3, \"#0000FF\")\n\n        //For some reason, only the last canvas was showing. Use images\n        //Images also allow \"Save Image As\"\n        let img = document.createElement(\"img\")\n        img.className = \"graph\"\n        img.src = canvas.toDataURL(\"image/png\")\n        div.appendChild(img)\n    }\n}\n\n\n\nfunction addPrecipGraph(div, precip, data) {\n    if (precip) {\n        let canvas = createcanvas()\n\n        let parts = toparts(precip.values)\n        addLine(\"Precipitation\", parts.timestamps, data.name, canvas, 0, parts.values, \"#0066FF\")\n\n        //For some reason, only the last canvas was showing. Use images\n        //Images also allow \"Save Image As\"\n        let img = document.createElement(\"img\")\n        img.className = \"graph\"\n        img.src = canvas.toDataURL(\"image/png\")\n        div.appendChild(img)\n    }\n}\n\n\nmodule.exports.addGraphs = function(div, data) {\n\n    //The graphing is wrapped in a try-catch statement because USGS often supplies invalid data\n    //for a specific river due to gauge problems.\n    //Each canvas is wrapped individually because sometimes only some graphs have invalid data\n\n    let temp = data[\"00010\"]\n    let precip = data[\"00045\"]\n    let cfs = data[\"00060\"]\n    let height = data[\"00065\"]\n\n\n\n    try {\n        addFlowGraph(div, cfs, height, data)\n    }\n    catch(e){console.warn(\"Error creating flow graph: \" + e)}\n\n    try {\n        addTempGraph(div, temp, data)\n    }\n    catch(e){console.warn(\"Error creating temperature graph: \" + e)}\n\n    try {\n        addPrecipGraph(div, precip, data)\n    }\n    catch(e){console.warn(\"Error creating precipitation graph: \" + e)}\n}\n","function simpleSort(list, propertyName) {\n    list.sort(function(a,b) {\n        if (a[propertyName] > b[propertyName]) {\n            return 1;\n        }\n        if (a[propertyName] < b[propertyName]) {\n            return -1;\n        }\n        return 0;\n    })\n    return list\n}\n\n\nfunction alphabeticalsort(list, reverse) {\n    list = simpleSort(list, \"name\")\n\n    if (reverse) {\n        list.reverse()\n    }\n\n    return list\n}\n\nfunction ratingsort(list, reverse) {\n    list = simpleSort(list, \"rating\")\n\n    if (reverse) {\n        list.reverse()\n    }\n    //Move error values to end\n    while (list[0].rating === \"Error\") {\n        list.push(list.shift())\n    }  \n    return list\n}\n\n\nfunction skillsort(list, reverse) {\n    list.sort(function(a,b) {\n\n        function ToNum(value) {\n\n            switch (value.skill) {\n                case \"FW\":\n                    value = 1;\n                    break;\n                case \"B\":\n                    value = 2;\n                    break;\n                case \"N\":\n                    value = 3;\n                    break;\n                case \"LI\":\n                    value = 4;\n                    break;\n                case \"I\":\n                    value = 5;\n                    break;\n                case \"HI\":\n                    value = 6;\n                    break;\n                case \"A\":\n                    value = 7;\n                    break;\n                case \"E\":\n                    value = 8;\n                    break;\n                default:\n                    value = 9;\n            }\n            return value\n        }       \n        return ToNum(a)-ToNum(b)\n    })\n\n\n    if (reverse) {\n        list.reverse()\n        while (list[0].skill === \"?\") {\n            list.push(list.shift())\n        }\n    }\n\n    return list\n}\n\n\n\nfunction runningSort(list, reverse) {\n    \n    let noData = []\n    let hasGauge = []\n    let knownState = []\n    \n    list.forEach((item) => {\n        if (item.running !== undefined) {knownState.push(item)}\n        //If there is gauge data, the user may be able to determine level themselves\n        //As such, put rivers with gauges second\n        else if (item.flow) {hasGauge.push(item)}\n        else {noData.push(item)}\n    })\n    \n    knownState = simpleSort(knownState, \"running\")\n    \n    if (reverse) {\n        knownState.reverse()\n    }\n    \n    if (knownState.length === 0) {\n        alert(\"Flow data has not yet loaded.\")\n        return list\n    }\n\n    knownState = knownState.concat(hasGauge)\n    knownState = knownState.concat(noData)\n\n    return knownState\n}\n\n\n\n\n\nfunction sort(method, list, reverse) {\n    if (method === \"alphabetical\") {\n        list = alphabeticalsort(list, reverse)\n    }\n    else if (method === \"rating\") {\n        list = ratingsort(list, reverse)\n    }\n    else if (method === \"skill\") {\n        list = skillsort(list, reverse)\n    }\n    else if (method === \"running\") {\n        list = runningSort(list, reverse)      \n    }\n    else {\n        throw \"Unknown sorting method \" + method\n    }\n    return list\n}\n\n\nmodule.exports = {\n    ratingsort,\n    alphabeticalsort,\n    skillsort,\n    sort\n}","function normalSearch(list, query) {\n    let l = [[],[],[],[],[]]\n    list.forEach(function(event){\n        if(event.tags.toLowerCase().indexOf(query) !== -1) {\n            if (event.name.toLowerCase().indexOf(query) !== -1) {\n                l[0].push(event)\n            }\n            else {\n                l[1].push(event)\n            }\n        }\n        else if (event.name.toLowerCase().indexOf(query) !== -1) {\n            l[2].push(event)\n        }\n        else if (event.section.toLowerCase().indexOf(query) !== -1) {\n            l[3].push(event)\n        }\n        else if (event.writeup.toLowerCase().indexOf(query) !== -1) {\n            l[4].push(event)\n        }\n    })\n\n    list = l[0].concat(l[1],l[2],l[3])\n\n    //Add the less relevant results below\n    list = list.concat(l[4])\n\n    return list\n}\n\n\n\n\n\n\n\n\n\n\n\nfunction stringQuery(parameters) {\n\n    let content = parameters.content\n    let query = parameters.query\n\n    //Ignore case by default\n    if (!parameters.matchCase) {\n        content = content.toLowerCase()\n        query = query.toLowerCase()\n    }\n\n    if (parameters.type === \"contains\") {\n        return content.includes(query)\n    }\n    else if (parameters.type === \"matches\") {\n        return content === query\n    }\n    else {\n        throw \"Unknown Search Type \" + parameters.type\n    }\n}\n\n\nfunction stringFilter(list, property, parameters) {\n    //Filter out the elements that fail the test\n    //Since we may be deleting elements in the list, items will be skipped if we use array.length\n    for (let item in list) {\n        parameters.content = list[item][property]\n        let passes = stringQuery(parameters)\n        if (!passes) {\n            //Remove the item if it fails\n            delete list[item]\n        }\n    }\n    return list\n}\n\n\n\nfunction skillToNumber(skill) {\n    let value\n    switch (skill) {\n        case \"FW\":\n            value = 1;\n            break;\n        case \"B\":\n            value = 2;\n            break;\n        case \"N\":\n            value = 3;\n            break;\n        case \"LI\":\n            value = 4;\n            break;\n        case \"I\":\n            value = 5;\n            break;\n        case \"HI\":\n            value = 6;\n            break;\n        case \"A\":\n            value = 7;\n            break;\n        case \"E\":\n            value = 8;\n    }\n    return value\n}\n\n\n\n\n\n\nfunction skillFilter(list, parameters) {\n\n    let query = parameters.query\n    let type = parameters.type\n\n    let min = Math.min(query[0], query[1])\n    let max = Math.max(query[0], query[1])\n\n    if (type !== \"from\") {throw \"Unknown search type\" + type}\n\n    for (let item in list) {\n\n        let passes = false;\n        let skill = skillToNumber(list[item].skill)\n\n        if (min <= skill && skill <= max) {\n            passes = true\n        }\n\n        if (!passes) {\n            //Remove the item if it fails\n            delete list[item]\n        }\n    }\t\n\t\n\treturn list\n}\n\n\n\n\n\n\n\n\n\n\nfunction ratingFilter(list, parameters) {\n\tconsole.error(\"Rating based filtering is not yet implemented\")\n\treturn list\n}\n\n\n\n\nlet calculateDistance = require(\"./distance.js\").lambert //Lambert formula\n\nfunction locationFilter(list, parameters) {\n\n    let maxDistance = parameters.distance\n    let lat1 = parameters.lat\n    let lon1 = parameters.lon\n\n    //Filter out the elements that fail the test\n    //Since we may be deleting elements in the list, items will be skipped if we use array.length\n    for (let item in list) {\n        let river = list[item]\n\n        let lat2 = river.plat || river.tlat || river.hidlat\n        let lon2 = river.plon || river.tlon || river.hidlon\n\n        let passes;\n        if (lat2 && lon2) {\n            let distance = calculateDistance(lat1, lon1, lat2, lon2)\n\n            passes = distance < maxDistance\n        }\n        else {\n            //TODO: If we only have one of two coordinates, we may still be able to eliminate it\n            passes = parameters.includeUnknown\n        }\n\n        if (!passes) {\n            //Remove the item if it fails\n            delete list[item]\n        }\n    }\n    return list\n\n}\n\n\nfunction flowFilter(list, parameters) {\n\tlet query = parameters.query\n\tlet min = query[0]\n\tlet max = query[1]\n\t\n\tconsole.log(parameters)\n\t\n\tfor (let item in list) {\n\t\tlet river = list[item]\n\t\t\n\t\tif (river.running === undefined) {\n\t\t\tif (!parameters.includeUnknown) {\n\t\t\t\tdelete list[item]\n\t\t\t}\n\t\t}\n\t\telse if (river.running < min || river.running > max) {\n\t\t\tdelete list[item]\n\t\t}\n\t}\n\treturn list\n}\n\n\n//Query is in form of:\n//{\n//  name: {\n//    type: \"matches\",\n//    query: \"potomac\"\n//},\n//section: {\n//    type: \"contains\",\n//    query: \"something\"\n//  },\n// skill: {\n//\ttype:\"\" //easier harder exactly from\n//\tvalue: 3 //An array of 2 if from\n//from is inclusive (From medium to hard)\n//},\n//location:{\n//\tdistance: 100 //Maximum distance in miles\n//\tlat: 78//Starting latitude\n//\tlon:-56 //Starting londitude\n//\tincludeUnknown: false //Do not eliminate if location not known \n//}\n//}\n\n\n\n\n//This doesn't work for difficulty and rating - no greater than or equal to.\n//That needs to be added\nfunction advancedSearch(list, query) {\n    //List is the array of river elements that we are searching\n    //Query is the search parameters\n    console.log(query)\n\n    for (let property in query) {\n        //Iterate through each part of the query\n\n        let parameters = query[property]\n\n\n        if ([\"name\", \"section\", \"writeup\"].includes(property)) {\n            list = stringFilter(list, property, parameters)\n        }\n        else if (property === \"skill\") {\n            list = skillFilter(list, parameters)\n        }\n        else if (property === \"rating\") {\n            list = ratingFilter(list, parameters)\n        }\n        else if (property === \"location\") {\n            list = locationFilter(list, parameters)\n        }\n        else if (property === \"flow\") {\n            list = flowFilter(list, parameters)\n        }\n\t\telse if (property === \"sort\") {\n\n        }\n        else {\n            alert(\"Unable to search based on \" + property)\n        }\n    }\n\n\tlist = list.filter(item => item !== undefined)\n    return list\n}\n\n\n\n\n\n\nmodule.exports = {\n    normalSearch,\n    advancedSearch\n}\n\n\n\n\n\n\n//Prepare the Advanced Search button\nlet advanced_search_modal = document.getElementById('advanced-search-modal');\n\nlet span = document.getElementById(\"advanced-search-modal-close\").onclick = function() {\n    advanced_search_modal.style.display = \"none\"\n}\n\nwindow.addEventListener(\"click\", function(event) {\n    if (event.target === advanced_search_modal) {\n        advanced_search_modal.style.display = \"none\"\n    }\n})\n\ndocument.getElementById(\"advancedsearch\").addEventListener(\"click\", function() {\n    advanced_search_modal.style.display = \"block\"\n})\n\n\n\n\n","function lambert(lat1, lon1, lat2, lon2) {\n\t//Should be accurate to <100 meters\n\t\n\t//Parameters from WGS-84\n\tlet radius = 3963.1905919430524 //Equatorial radius in miles\n\tlet flattening = 0.0033528106647474805\n\n\tlat1 = lat1 * Math.PI / 180\n\tlon1 = lon1 * Math.PI / 180\n\tlat2 = lat2 * Math.PI / 180\n\tlon2 = lon2 * Math.PI / 180\n\n\tlet ratio = 1-flattening\n\t\n\tlet reducedLat1 = Math.atan(ratio*Math.tan(lat1))\n\tlet reducedLat2 = Math.atan(ratio*Math.tan(lat2))\n\t\n    //Spherical Law of Cosines\n\tlet angle = Math.acos(Math.sin(reducedLat1) * Math.sin(reducedLat2) + Math.cos(reducedLat1) * Math.cos(reducedLat2) * Math.cos(lon2-lon1))\n\t\n\tlet p = (reducedLat1+reducedLat2)/2\n\tlet q = (reducedLat2-reducedLat1)/2\n\tlet x = (angle - Math.sin(angle)) * (((Math.sin(p)**2)*(Math.cos(q)**2))/(Math.cos(angle/2)**2))\n\tlet y = (angle + Math.sin(angle)) *(((Math.cos(p)**2)*(Math.sin(q)**2))/(Math.sin(angle/2)**2))\n\treturn radius*(angle-((flattening/2)*(x+y)))\t\n}\n\n\nmodule.exports = {\n  lambert\n}\n","\n\nfunction drawColors(canvas, height) {\n\n    let context = canvas.getContext(\"2d\")\t\n\n    //Some browsers flip screen.width and screen.height on rotation - some don't\n\n    //window.innerWidth fails - the window is expanded to handle the width of the legend\n    //Then the legend doesn't resize (because the window has resized to it) \n\n    //This seems to be the only cross browser solution (it fails if numerous rotations made)\n\n\tlet tooLowLightness = window.darkMode? \"30%\": \"65%\"\n\tlet tooHighLightness = window.darkMode? \"20%\": \"70%\"\n\tlet normalValueLightness = window.darkMode? \"25%\": \"75%\"\n\t\n\tcanvas.width = document.documentElement.clientWidth\n    canvas.height = height\n\n    let gradient = context.createLinearGradient(0,0,canvas.width,canvas.height) //Not sure about parameters  \n\n    let redColor = \"hsl(0,100%,\" + tooLowLightness + \")\"\n    let blueColor = \"hsl(240,100%,\" + tooHighLightness + \")\"\n\n    gradient.addColorStop(0, redColor)\n    gradient.addColorStop(0.08, redColor)\n    \n    let start = 0.08\n    let end = 0.92\n\n    let range = end-start\n    //240 is number of whole number hsl values\n\n    for (let i=0;i<=240;i++) {\n        gradient.addColorStop(start + (i/240*range), \"hsl(\" + i + \",100%,\" + normalValueLightness + \")\")\n    }\n\n    gradient.addColorStop(0.92, blueColor)\n    gradient.addColorStop(1, blueColor)\n\n    context.fillStyle = gradient\n    context.fillRect(0,0,canvas.width,canvas.height)\t\n\n}\n\n\n\nfunction drawText(canvas, fontSize) {\n\n    let context = canvas.getContext(\"2d\")\t\n    context.fillStyle = window.darkMode ? \"white\" : \"black\"\n\n    //The fourth parameter is the maximum width of the text in pixels\n    //rivers.run may want to use it\n\n    let height = fontSize\n\n    context.font = fontSize + \"px Arial\"\n\n    context.textAlign = \"start\"\n    context.fillText(\"Too Low\", 0, height)\n\n    context.textAlign = \"center\"\n    context.fillText(\"Low Flow\", canvas.width*0.28, height)\n    context.fillText(\"Mid Flow\", canvas.width/2, height)\n    context.fillText(\"High Flow\", canvas.width*0.72, height)\n\n\n    //Black text on blue is near inivisible - so use white text on blue\n    if (!window.darkMode) {context.fillStyle = \"white\"} \n\n    context.textAlign = \"end\"\n    context.fillText(\"Too High\", canvas.width, height, canvas.width*0.2)\n\n}\n\n\nfunction makeSticky(canvas) {\n    //Make the legend stick to the top of the screen\n\n    //position: sticky failed in Safari\n    //canvas.style.position = \"-webkit-sticky\"\n    //canvas.style.position = \"sticky\"\n    //canvas.style.top = 0\n\n    let elementOffset = canvas.offsetTop\n    window.addEventListener(\"scroll\", function() {\n        let pageOffset = window.pageYOffset\n\n        if (pageOffset > elementOffset) {\n            canvas.style.position = \"fixed\"\n            canvas.style.top = 0\n            document.body.style.paddingTop = canvas.height + \"px\" //Avoid sudden jerk in page content\n        }\n        else {\n            canvas.style.position = \"\"\n            canvas.style.top = \"\"\n            document.body.style.paddingTop = 0\n        }\n    })\n}\n\n\nfunction updateLegend() {\n    try {\n    let canvas = document.getElementById(\"legend\")\n\n    canvas.getContext(\"2d\").clearRect(0,0,canvas.width,canvas.height)\n\n    canvas.style.backgroundColor = window.getComputedStyle(document.body).getPropertyValue(\"background-color\")\n\n\n    let fontSize = parseFloat(window.getComputedStyle(document.getElementById(\"Rivers\").firstChild).getPropertyValue(\"font-size\"))\n\n    let height;\n    //Picked what I thought looked best\n    if (fontSize > 18) {\n        height = 10 + fontSize*2\n    }\n    else if (fontSize > 14.8){\n        fontSize *= 1.2\n        height = 10 + fontSize*2\n    }\n    else {\n        fontSize *= 1.4\n        height = 10 + fontSize*2\n    }\n\n    drawColors(canvas, height)\n    drawText(canvas, fontSize)\n    makeSticky(canvas)\n    }\n    catch (e) {\n        //Something went badly wrong. Prevent from taking down whole page.\n        console.error(\"Legend failed to draw. Logging error.\")\n        console.error(e)\n    }\n\n}\n\nwindow.addEventListener(\"resize\", updateLegend)\n//orientationchange should be fired on resize, but some browsers (such as Safari) do not\nwindow.addEventListener(\"orientationchange\", updateLegend)\n\nupdateLegend()"],"sourceRoot":""}