//Regenerator Runtime
/*
 Copyright (c) 2014-present, Facebook, Inc.
 This source code is licensed under the MIT license found in the
 LICENSE file in the root directory of this source tree.
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(d){var k=0;return function(){return k<d.length?{done:!1,value:d[k++]}:{done:!0}}};$jscomp.arrayIterator=function(d){return{next:$jscomp.arrayIteratorImpl(d)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,k,t){d!=Array.prototype&&d!=Object.prototype&&(d[k]=t.value)};
$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global&&null!=global?global:d};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var d=0;return function(k){return $jscomp.SYMBOL_PREFIX+(k||"")+d++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var d=$jscomp.global.Symbol.iterator;d||(d=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[d]&&$jscomp.defineProperty(Array.prototype,d,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var d=$jscomp.global.Symbol.asyncIterator;d||(d=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(d){$jscomp.initSymbolIterator();d={next:d};d[$jscomp.global.Symbol.iterator]=function(){return this};return d};
var regeneratorRuntime=function(d){function k(a,b,c,g){b=Object.create((b&&b.prototype instanceof z?b:z).prototype);g=new A(g||[]);b._invoke=J(a,c,g);return b}function t(a,b,c){try{return{type:"normal",arg:a.call(b,c)}}catch(g){return{type:"throw",arg:g}}}function z(){}function u(){}function q(){}function D(a){["next","throw","return"].forEach(function(b){a[b]=function(a){return this._invoke(b,a)}})}function v(a){function b(c,e,d,f){c=t(a[c],a,e);if("throw"===c.type)f(c.arg);else{var g=c.arg;return(c=
g.value)&&"object"===typeof c&&m.call(c,"__await")?Promise.resolve(c.__await).then(function(a){b("next",a,d,f)},function(a){b("throw",a,d,f)}):Promise.resolve(c).then(function(a){g.value=a;d(g)},function(a){return b("throw",a,d,f)})}}var c;this._invoke=function(a,e){function d(){return new Promise(function(c,d){b(a,e,c,d)})}return c=c?c.then(d,d):d()}}function J(a,b,c){var d=E;return function(e,g){if(d===F)throw Error("Generator is already running");if(d===w){if("throw"===e)throw g;return G()}c.method=
e;for(c.arg=g;;){var f=c.delegate;if(f&&(f=H(f,c))){if(f===h)continue;return f}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(d===E)throw d=w,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);d=F;f=t(a,b,c);if("normal"===f.type){d=c.done?w:K;if(f.arg===h)continue;return{value:f.arg,done:c.done}}"throw"===f.type&&(d=w,c.method="throw",c.arg=f.arg)}}}function H(a,b){var c=a.iterator[b.method];if(c===l){b.delegate=null;if("throw"===b.method){if(a.iterator["return"]&&
(b.method="return",b.arg=l,H(a,b),"throw"===b.method))return h;b.method="throw";b.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}c=t(c,a.iterator,b.arg);if("throw"===c.type)return b.method="throw",b.arg=c.arg,b.delegate=null,h;c=c.arg;if(!c)return b.method="throw",b.arg=new TypeError("iterator result is not an object"),b.delegate=null,h;if(c.done)b[a.resultName]=c.value,b.next=a.nextLoc,"return"!==b.method&&(b.method="next",b.arg=l);else return c;b.delegate=null;return h}
function L(a){var b={tryLoc:a[0]};1 in a&&(b.catchLoc=a[1]);2 in a&&(b.finallyLoc=a[2],b.afterLoc=a[3]);this.tryEntries.push(b)}function B(a){var b=a.completion||{};b.type="normal";delete b.arg;a.completion=b}function A(a){this.tryEntries=[{tryLoc:"root"}];a.forEach(L,this);this.reset(!0)}function C(a){if(a){var b=a[x];if(b)return b.call(a);if("function"===typeof a.next)return a;if(!isNaN(a.length)){var c=-1;b=function e(){for(;++c<a.length;)if(m.call(a,c))return e.value=a[c],e.done=!1,e;e.value=
l;e.done=!0;return e};return b.next=b}}return{next:G}}function G(){return{value:l,done:!0}}var I=Object.prototype,m=I.hasOwnProperty,l;$jscomp.initSymbol();$jscomp.initSymbol();var n="function"===typeof Symbol?Symbol:{},x=n.iterator||"@@iterator",M=n.asyncIterator||"@@asyncIterator",y=n.toStringTag||"@@toStringTag";d.wrap=k;var E="suspendedStart",K="suspendedYield",F="executing",w="completed",h={};n={};n[x]=function(){return this};var p=Object.getPrototypeOf;(p=p&&p(p(C([]))))&&p!==I&&m.call(p,x)&&
(n=p);var r=q.prototype=z.prototype=Object.create(n);u.prototype=r.constructor=q;q.constructor=u;q[y]=u.displayName="GeneratorFunction";d.isGeneratorFunction=function(a){return(a="function"===typeof a&&a.constructor)?a===u||"GeneratorFunction"===(a.displayName||a.name):!1};d.mark=function(a){Object.setPrototypeOf?Object.setPrototypeOf(a,q):(a.__proto__=q,y in a||(a[y]="GeneratorFunction"));a.prototype=Object.create(r);return a};d.awrap=function(a){return{__await:a}};D(v.prototype);v.prototype[M]=
function(){return this};d.AsyncIterator=v;d.async=function(a,b,c,g){var e=new v(k(a,b,c,g));return d.isGeneratorFunction(b)?e:e.next().then(function(a){return a.done?a.value:e.next()})};D(r);r[y]="Generator";r[x]=function(){return this};r.toString=function(){return"[object Generator]"};d.keys=function(a){var b=[],c;for(c in a)b.push(c);b.reverse();return function e(){for(;b.length;){var c=b.pop();if(c in a)return e.value=c,e.done=!1,e}e.done=!0;return e}};d.values=C;A.prototype={constructor:A,reset:function(a){this.next=
this.prev=0;this.sent=this._sent=l;this.done=!1;this.delegate=null;this.method="next";this.arg=l;this.tryEntries.forEach(B);if(!a)for(var b in this)"t"===b.charAt(0)&&m.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=l)},stop:function(){this.done=!0;var a=this.tryEntries[0].completion;if("throw"===a.type)throw a.arg;return this.rval},dispatchException:function(a){function b(b,d){h.type="throw";h.arg=a;c.next=b;d&&(c.method="next",c.arg=l);return!!d}if(this.done)throw a;for(var c=this,d=this.tryEntries.length-
1;0<=d;--d){var e=this.tryEntries[d],h=e.completion;if("root"===e.tryLoc)return b("end");if(e.tryLoc<=this.prev){var f=m.call(e,"catchLoc"),k=m.call(e,"finallyLoc");if(f&&k){if(this.prev<e.catchLoc)return b(e.catchLoc,!0);if(this.prev<e.finallyLoc)return b(e.finallyLoc)}else if(f){if(this.prev<e.catchLoc)return b(e.catchLoc,!0)}else if(k){if(this.prev<e.finallyLoc)return b(e.finallyLoc)}else throw Error("try statement without catch or finally");}}},abrupt:function(a,b){for(var c=this.tryEntries.length-
1;0<=c;--c){var d=this.tryEntries[c];if(d.tryLoc<=this.prev&&m.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var e=d;break}}e&&("break"===a||"continue"===a)&&e.tryLoc<=b&&b<=e.finallyLoc&&(e=null);c=e?e.completion:{};c.type=a;c.arg=b;return e?(this.method="next",this.next=e.finallyLoc,h):this.complete(c)},complete:function(a,b){if("throw"===a.type)throw a.arg;"break"===a.type||"continue"===a.type?this.next=a.arg:"return"===a.type?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):"normal"===
a.type&&b&&(this.next=b);return h},finish:function(a){for(var b=this.tryEntries.length-1;0<=b;--b){var c=this.tryEntries[b];if(c.finallyLoc===a)return this.complete(c.completion,c.afterLoc),B(c),h}},"catch":function(a){for(var b=this.tryEntries.length-1;0<=b;--b){var c=this.tryEntries[b];if(c.tryLoc===a){a=c.completion;if("throw"===a.type){var d=a.arg;B(c)}return d}}throw Error("illegal catch attempt");},delegateYield:function(a,b,c){this.delegate={iterator:C(a),resultName:b,nextLoc:c};"next"===this.method&&
(this.arg=l);return h}};return d}("object"===typeof module?module.exports:{});




//Babel Minified Code with Transform Regenerator Plugin
//Copyright (c) Tucker Willenborg 2018-Present
'use strict';function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,f=Array(a.length);b<a.length;b++)f[b]=a[b];return f}return Array.from(a)}function _asyncToGenerator(a){return function(){var b=a.apply(this,arguments);return new Promise(function(f,g){function h(k,l){try{var m=b[k](l),n=m.value}catch(o){return void g(o)}return m.done?void f(n):Promise.resolve(n).then(function(o){h('next',o)},function(o){h('throw',o)})}return h('next')})}}if(navigator.onLine){var dc=caches.delete('Temporary');dc.then(LoadSW()),dc.catch(function(a){console.warn(a),LoadSW()})}else LoadSW();function LoadSW(){if('serviceWorker'in navigator){var a=navigator.serviceWorker.register('https://rivers.run/serviceworker.js');a.then(function(){console.log('ServiceWorker Registered!');var b=navigator.serviceWorker.ready;b.then(function(){console.log('ServiceWorker Ready!'),MainCode()}),b.catch(MainCode())}),a.catch(function(b){console.warn(b),MainCode()})}else console.log('No ServiceWorker Support'),MainCode()}function MainCode(){var LoadStringData=function(){var L=_asyncToGenerator(regeneratorRuntime.mark(function M(N){var O;return regeneratorRuntime.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.next=2,fetch(N);case 2:return O=Q.sent,Q.next=5,O.text();case 5:return O=Q.sent,Q.abrupt('return',O);case 7:case'end':return Q.stop();}},M,this)}));return function(){return L.apply(this,arguments)}}(),FetchData=function(){var L=_asyncToGenerator(regeneratorRuntime.mark(function M(N){var O,P,Q,R;return regeneratorRuntime.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,G(h(N));case 2:return O=T.sent,P=O.split('\n')[16].slice(1).trim(),Q=n(m(l(k(O)))),R=o(Q),T.abrupt('return',s(q(Q),P,R));case 7:case'end':return T.stop();}},M,this)}));return function(){return L.apply(this,arguments)}}(),LoadAndRender=function(){var L=_asyncToGenerator(regeneratorRuntime.mark(function M(N,O,P,Q,R,S,T,U){var W,X,Y,Z,$,_;return regeneratorRuntime.wrap(function(ba){for(;;)switch(ba.prev=ba.next){case 0:return ba.next=2,I(N);case 2:W=ba.sent,O.innerHTML='---',X=1,ba.prev=5,Y=0;case 7:if(!(Y<W.cfs.length)){ba.next=14;break}if(void 0===W.cfs[Y]){ba.next=11;break}return X=0,ba.abrupt('break',14);case 11:Y++,ba.next=7;break;case 14:ba.next=18;break;case 16:ba.prev=16,ba.t0=ba['catch'](5);case 18:Z=1,ba.prev=19,Y=0;case 21:if(!(Y<W.height.length)){ba.next=28;break}if(void 0===W.height[Y]){ba.next=25;break}return Z=0,ba.abrupt('break',28);case 25:Y++,ba.next=21;break;case 28:ba.next=32;break;case 30:ba.prev=30,ba.t1=ba['catch'](19);case 32:if(0!==X){ba.next=58;break}$=W.cfs.length-1;case 34:if(!(0<=$)){ba.next=41;break}if(isNaN(+W.cfs[$])||0===+W.cfs[$]||void 0===W.cfs[$]){ba.next=38;break}return O.innerHTML=W.cfs[$]+' cfs',ba.abrupt('break',41);case 38:$--,ba.next=34;break;case 41:if(0!==Z){ba.next=55;break}O.innerHTML+=', ',$=W.height.length-1;case 44:if(!(0<=$)){ba.next=51;break}if(isNaN(+W.height[$])||0===+W.height[$]||void 0===W.height[$]){ba.next=48;break}return O.innerHTML+=W.height[$]+' feet',ba.abrupt('break',51);case 48:$--,ba.next=44;break;case 51:t('',W.Timezone,W.timeframe,W.Source,P,0,W.cfs,S,2),t('',W.Timezone,W.timeframe,W.Source,P,0,W.height,T,2,1),ba.next=56;break;case 55:t('cfs',W.Timezone,W.timeframe,W.Source,P,0,W.cfs,S);case 56:ba.next=74;break;case 58:if(0!==Z){ba.next=70;break}t('height',W.Timezone,W.timeframe,W.Source,P,0,W.height,T),$=W.height.length-1;case 61:if(!(0<=$)){ba.next=68;break}if(isNaN(+W.height[$])||0===+W.height[$]||void 0===W.height[$]){ba.next=65;break}return O.innerHTML=W.height[$]+' feet',ba.abrupt('break',68);case 65:$--,ba.next=61;break;case 68:ba.next=74;break;case 70:_=P.getContext('2d'),_.textAlign='center',_.font=Q.width/35+'px Arial',_.fillText('No Flow Data Currently Avalible for this Site ('+N+')',P.width/2,P.height/2);case 74:X=1,ba.prev=75,Y=0;case 77:if(!(Y<W.temp.length)){ba.next=84;break}if(void 0===W.temp[Y]){ba.next=81;break}return X=0,ba.abrupt('break',84);case 81:Y++,ba.next=77;break;case 84:ba.next=88;break;case 86:ba.prev=86,ba.t2=ba['catch'](75);case 88:0===X?(W.temp=W.temp.map(function(ca){return 1.8*ca+32}),t('',W.Timezone,W.timeframe,W.Source,Q,0,W.temp,'#FF0000',3,'#0000FF')):(_=Q.getContext('2d'),_.textAlign='center',_.font=Q.width/35+'px Arial',_.fillText('No Water Temperature Data Currently Avalible for this Site ('+N+')',Q.width/2,Q.height/2)),X=1,ba.prev=90,Y=0;case 92:if(!(Y<W.precip.length)){ba.next=99;break}if(void 0===W.precip[Y]){ba.next=96;break}return X=0,ba.abrupt('break',99);case 96:Y++,ba.next=92;break;case 99:ba.next=103;break;case 101:ba.prev=101,ba.t3=ba['catch'](90);case 103:0===X?t('Precipitation',W.Timezone,W.timeframe,W.Source,R,0,W.precip,U):(_=R.getContext('2d'),_.font=R.width/35+'px Arial',_.textAlign='center',_.fillText('No Precipitation Data Currently Avalible for this Site ('+N+')',R.width/2,R.height/2));case 104:case'end':return ba.stop();}},M,this,[[5,16],[19,30],[75,86],[90,101]])}));return function(){return L.apply(this,arguments)}}(),PrepSort=function(){var L=_asyncToGenerator(regeneratorRuntime.mark(function M(){var N,O;return regeneratorRuntime.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return N=function(R){return new Promise(function(S){return setTimeout(S,R)})},Q.next=3,N(20);case 3:O=a('SearchBox').value.trim(),O===D||B();case 5:case'end':return Q.stop();}},M,this)}));return function(){return L.apply(this,arguments)}}();function a(L){return document.getElementById(L)}function b(){localStorage.setItem('TimeStamp',Date.now()),caches.delete('rivers.run').then(function(){window.location.reload(!0)}).catch(function(){window.location.reload(!0)})}function f(){try{if(null!==localStorage.getItem('TimeStamp')&&6e5<Date.now()-localStorage.getItem('TimeStamp')){var L=Math.floor(Math.floor((Date.now()-localStorage.getItem('TimeStamp'))/1e3)/60),M=Math.floor(L/60);L%=60;var N=Math.floor(M/24);M%=24;var O='';0!==N&&(1===N?O=O+N+' day ':O=O+N+' days '),0!==M&&(1===M?O=O+M+' hour ':O=O+M+' hours '),0!==L&&(1===L?O=O+L+' minute ':O=O+L+' minutes '),a('ReloadAllText').innerHTML='You\'re viewing a cached version of this site from '+O+' ago.'}}catch(P){console.warn(P)}}function g(){document.documentElement.style.setProperty('--screenheight',Math.floor(window.innerHeight/1.15)+'px');var L=750/window.innerWidth;L=1>L?Math.pow(L,0.7):1.2,L=2.4*L+'vw',document.documentElement.style.setProperty('--textsize',L)}function h(L){if('number'==typeof L&&console.warn('A number ('+L+') was passed where a string is needed. If the number contained leading zeros that CreateURL is unable to replace, you may get an error.'),L+='',8>L.length){var M=L;L='0'.repeat(8-L.length)+L,console.warn('Changed '+M+' to '+L+'. It is reccomended to pass strings instead of integers so that modification is not required.')}var O=new Date(Date.now()),P=O.getFullYear()+'-'+(O.getMonth()+1)+'-'+O.getDate();O=new Date(Date.now()-8.64e7*1);var Q=O.getFullYear()+'-'+(O.getMonth()+1)+'-'+O.getDate();return'https://waterdata.usgs.gov/nwis/uv?cb_00045=on&cb_00010=on&cb_00045=on&cb_00060=on&cb_00065=on&format=rdb&site_no='+L+'&period=&begin_date='+Q+'&end_date='+P}function k(L){for(L=L.split('\n');'#'===L[0][0];)L.shift();return L}function l(L){return L.map(function(M){return M.split('\t')})}function m(L){return L.map(function(M){return M.splice(0,2),M})}function n(L){return L.map(function(M){for(var N=3;N<M.length;++N)M.splice(N,1);return M})}function o(L){var M=L[2][1];return L=L.splice(2,Array.length-3),L.map(function(N){if(N[1]!==M)throw'Time zones '+M+' and '+N[1]+' do not match!'}),M}function q(L){return L.map(function(M){return M.splice(1,1),M})}function s(L,M,N){var O={};O.Source=M,O.Timezone=N,O.timeframe=L.map(function(U){return U[0]}),O.timeframe.splice(0,2),O.timeframe.pop(),L.pop();for(var P,Q=0;Q<L[0].length;Q++)if(-1!==L[0][Q].indexOf('00060')){P=Q;break}for(var R,Q=0;Q<L[0].length;Q++)if(-1!==L[0][Q].indexOf('00065')){R=Q;break}for(var S,Q=0;Q<L[0].length;Q++)if(-1!==L[0][Q].indexOf('00045')){S=Q;break}for(var T,Q=0;Q<L[0].length;Q++)if(-1!==L[0][Q].indexOf('00010')){T=Q;break}return void 0!==P&&(O.cfs=L.map(function(U){return U[P]}),O.cfs.splice(0,2)),void 0!==R&&(O.height=L.map(function(U){return U[R]}),O.height.splice(0,2)),void 0!==S&&(O.precip=L.map(function(U){return U[S]}),O.precip.splice(0,2)),void 0!==T&&(O.temp=L.map(function(U){return isNaN(+U[T])||''===U[T]?NaN:U[T]}),O.temp.splice(0,2)),O}function t(L,M,N,O,P,Q,R,S,T,U){function W(va){return Math.round((va-fa)*da)}function X(va){return Math.round(Z-(va-ea)*ca)}if(3===T)var Y=U;2!==T&&(U=0);var Z=0.8*P.height,$=P.width,_=P.getContext('2d');if(!isNaN(+Q)){Q=[];for(var aa=0;aa<R.length;aa++)Q.push(aa*$)}Q.length!==R.length&&console.warn('Uneven amount of datapoints. '+Q.length+' horizontal points found, but '+R.length+' vertical points found.'),void 0===S&&(S='#000000'),_.strokeStyle=S,_.lineWidth=Math.ceil(Math.min($,Z)/120),_.beginPath(),$*=2===T?0.86:0.93;for(var ba=[],aa=0;aa<R.length;aa++)isNaN(+R[aa])||''===R[aa]||ba.push(R[aa]);var ca=Math.max.apply(Math,ba)-Math.min.apply(Math,ba),da=Math.max.apply(Math,_toConsumableArray(Q))-Math.min.apply(Math,_toConsumableArray(Q));ca=Z/ca,da=$/da;var ea=Math.min.apply(Math,ba),fa=Math.min.apply(Math,_toConsumableArray(Q));fa-=0.07*(Math.max.apply(Math,_toConsumableArray(Q))-Math.min.apply(Math,_toConsumableArray(Q)));var ga=Math.floor(0.07*P.width/2.6);if(_.font=ga+'px serif',9===S.length&&(S=S.slice(0,7)),_.fillStyle=S,3===T){var ha=_.createLinearGradient(0,0,0,Z);ha.addColorStop(0,S),ha.addColorStop(1,Y),_.strokeStyle=ha,_.fillStyle=ha}if(0===U||void 0===U)var ia=1;else var ia=P.width-0.07*P.width;for(var ja,aa=1;11>aa;aa++)ja=(Math.max.apply(Math,ba)-Math.min.apply(Math,ba))*((aa-1)/10)+Math.min.apply(Math,ba),1e3<=ja?ja=Math.round(ja):(ja=ja.toFixed(3-(Math.round(ja)+'').length),+ja===Math.round(ja)&&(ja=Math.round(ja))),_.fillText(ja,ia,Z*(11-aa)/10-5);ja=(Math.max.apply(Math,ba)-Math.min.apply(Math,ba))*((aa-1)/10)+Math.min.apply(Math,ba),1e3<=ja?ja=Math.round(ja):(ja=ja.toFixed(3-(Math.round(ja)+'').length),+ja===Math.round(ja)&&(ja=Math.round(ja))),_.fillText(ja,ia,27);var ga=Math.floor(0.07*P.width/2.8);_.font=ga+'px serif',9===S.length&&(S=S.slice(0,7)),_.fillStyle='black';var ka=new Date(N[0]),la=new Date(N[N.length-1]),ma=new Date((la-ka)/2+ka.getTime()),na=ka.getHours(),oa=la.getHours(),pa=ma.getHours();2>(ka.getHours()+'').length&&(na+='0'),na+=':'+ka.getMinutes(),2>(ka.getMinutes()+'').length&&(na+='0'),na+=' '+(ka.getMonth()+1)+'/'+ka.getDate()+'/'+ka.getFullYear(),2>(la.getHours()+'').length&&(oa+='0'),oa+=':'+la.getMinutes(),2>(la.getMinutes()+'').length&&(oa+='0'),oa+=' '+(la.getMonth()+1)+'/'+la.getDate()+'/'+la.getFullYear(),2>(ma.getHours()+'').length&&(pa+='0'),pa+=':'+ma.getMinutes(),2>(ma.getMinutes()+'').length&&(pa+='0'),pa+=' '+(ma.getMonth()+1)+'/'+ma.getDate()+'/'+ma.getFullYear(),_.fillText(na+' ('+M+')',10,P.height*(11/12)-0.06*P.height-12),_.textAlign='end',_.fillText(oa+' ('+M+')',P.width-10,P.height*(11/12)-0.06*P.height-12),_.textAlign='center',_.fillText(pa+' ('+M+')',P.width/2,P.height*(11/12)-0.06*P.height-12),_.textAlign='start';var ga=Math.floor(0.07*P.width/2.4);if(_.font=ga+'px serif',_.fillStyle=S,3===T){var ha=_.createLinearGradient(0,Z,200,Z);ha.addColorStop(0,S),ha.addColorStop(1,Y),_.strokeStyle=ha,_.fillStyle=ha}if(2===T)0===U||void 0===U?_.fillText('Flow (Cubic Feet/Second)',ia+5,P.height*(11/12)):(_.textAlign='right',_.fillText('Gauge Height (Feet)',ia-5,P.height*(11/12)),_.textAlign='start');else if(3===T)_.fillText('Water Temperature (\xB0F)',ia+5,P.height*(11/12));else if('Precipitation'===L){_.fillText('Precipitation (Inches)',ia+5,P.height*(11/12));var qa=0,ra=0,sa=R.slice(-96),sa=sa.map(Number);sa.forEach(function(va){qa+=va}),sa=sa.slice(-48),sa.forEach(function(va){ra+=va}),qa=qa.toFixed(2),ra=ra.toFixed(2),_.fillText('Last 24 Hours: '+qa+' in',P.width-700,P.height*(11/12)),_.fillText('Last 12 Hours: '+ra+' in',P.width-330,P.height*(11/12))}else'cfs'===L?_.fillText('Flow (Cubic Feet/Second)',ia+5,P.height*(11/12)):'height'===L?_.fillText('Gauge Height (Feet)',ia+5,P.height*(11/12)):_.fillText('Labeling Error...',ia+5,P.height*(11/12));if(3===T){var ha=_.createLinearGradient(0,0,0,P.height);ha.addColorStop(0,S),ha.addColorStop(1,Y),_.strokeStyle=ha,_.fillStyle=ha}_.fillStyle='black',_.textAlign='center',_.fillText(O,P.width/2,P.height-10),_.textAlign='start';for(var ta=0;ta<Math.min(R.length,Q.length);ta++)if(!isNaN(+R[ta])&&''!==R[ta]){_.moveTo(W(Q[ta]),X(R[ta]));break}for(var ua=1,aa=ta;aa<Math.min(R.length,Q.length);aa++)isNaN(+R[aa])||''===R[aa]?ua=0:1==ua?_.lineTo(W(Q[aa]),X(R[aa])):(_.moveTo(W(Q[aa]),X(R[aa])+10),_.lineTo(W(Q[aa]),X(R[aa])),ua=1);_.stroke(),_.beginPath(),_.lineWidth=Math.ceil(_.lineWidth/10),_.strokeStyle='#000000AA';for(var aa=1;11>aa;aa++)_.moveTo(0,Z*(11-aa)/10),_.lineTo(P.width,Z*(11-aa)/10);_.stroke()}function u(L){var M=L.slice(0,-7),N=a(M+'canvas1'),O=a(M+'canvas2'),P=a(M+'canvas3'),Q=a(M+'button1'),R=a(M+'button2'),S=a(M+'button3');N.style.display='block',O.style.display='none',P.style.display='none',Q.className='FlowButton',R.className='Unselected',S.className='Unselected'}function v(L){var M=L.slice(0,-7),N=a(M+'canvas1'),O=a(M+'canvas2'),P=a(M+'canvas3'),Q=a(M+'button1'),R=a(M+'button2'),S=a(M+'button3');O.style.display='block',N.style.display='none',P.style.display='none',Q.className='Unselected',R.className='TempButton',S.className='Unselected'}function w(L){var M=L.slice(0,-7),N=a(M+'canvas1'),O=a(M+'canvas2'),P=a(M+'canvas3'),Q=a(M+'button1'),R=a(M+'button2'),S=a(M+'button3');P.style.display='block',O.style.display='none',N.style.display='none',Q.className='Unselected',R.className='Unselected',S.className='PrecipButton'}function x(L,M,N){for(var O='',P=0;10>P;P++)O+=Math.random()*Math.pow(2,53)+'';var Q=document.createElement('canvas'),R=document.createElement('canvas'),S=document.createElement('canvas');Q.width=1200,R.width=1200,S.width=1200,Q.height=800,R.height=800,S.height=800,J(M,N,Q,R,S,'#00AAFF80','#0000FF80','#0066FF80').catch(function(Y){N.innerHTML='Error...',console.warn(Y)}),L.appendChild(Q),R.style.display='none',S.style.display='none',L.appendChild(R),L.appendChild(S),Q.id=O+'canvas1',R.id=O+'canvas2',S.id=O+'canvas3',Q.className='ToDeleteLater',R.className='ToDeleteLater',S.className='ToDeleteLater';var T=document.createElement('button');T.innerHTML='Flow Info',T.addEventListener('click',function(){u(this.id)}),T.className='FlowButton',T.id=O+'button1';var U=document.createElement('button');U.innerHTML='Water Temperature',U.addEventListener('click',function(){v(this.id)}),U.className='Unselected',U.id=O+'button2';var W=document.createElement('button');W.innerHTML='Precipitation',W.addEventListener('click',function(){w(this.id)}),W.className='Unselected',W.id=O+'button3';var X=document.createElement('div');return X.appendChild(T),X.appendChild(W),X.appendChild(U),X.className='canvasbuttons ToDeleteLater',X}function y(L,M,N,O,P,Q,R){function S(_){var aa=document.createElement('Span');aa.innerHTML=void 0===_?'Not Found':_,aa.className='riverspan',U.appendChild(aa)}var T=a('Rivers'),U=document.createElement('button');U.className='accordion';var W=document.createElement('Div');if(W.className='panel',S(L),S(M),S(N),'Rating'===O||'Below'===O||'Not Found'===O)S(O);else{var X;switch(parseInt(O)){case 1:X='1Star';break;case 2:X='2Stars';break;case 3:X='3Stars';break;case 4:X='4Stars';break;case 5:X='5Stars';break;default:X='Error';}if('Error'===X)S('???');else{var Y=document.createElement('span'),Z=document.createElement('img');Z.src='https://rivers.run/resources/'+X+'.png',Z.alt=X[0]+' Stars',Y.className='riverspan',Y.appendChild(Z),U.appendChild(Y)}}if(S(P),W.innerHTML=void 0===R?'This River has no Writeup.':R,'Flow Info'===Q)S(Q),U.id='LabelRow';else if(16>(Q+'').length&&void 0!==Q&&0!==+Q&&!isNaN(+Q)){var $=document.createElement('span');$.className='riverspan',$.innerHTML='Loading...',U.appendChild($),W.appendChild(x(W,Q,$))}else void 0!==Q&&0!==+Q&&S('Bad Gauge #');U.addEventListener('click',function(){this.classList.toggle('active');var _=this.nextElementSibling;_.style.maxHeight?(_.style.maxHeight=null,_.style.padding='0px',_.hidden='hidden'):(_.style.maxHeight='100%',_.style.padding='10px',_.hidden='')}),'Relevant'===M&&(U.id='lessrelevant'),W.hidden='hidden',T.appendChild(U),T.appendChild(W)}function z(){document.querySelectorAll('.Unselected').forEach(function(M){return M.parentNode.removeChild(M)}),document.querySelectorAll('.FlowButton').forEach(function(M){return M.parentNode.removeChild(M)}),document.querySelectorAll('.PrecipButton').forEach(function(M){return M.parentNode.removeChild(M)}),document.querySelectorAll('.TempButton').forEach(function(M){return M.parentNode.removeChild(M)}),document.querySelectorAll('.ToDeleteLater').forEach(function(M){return M.parentNode.removeChild(M)});for(var L=a('Rivers');L.firstChild;)L.removeChild(L.firstChild);y('River Name','Section','Skill','Rating','Length','Flow Info','The River\'s Write-up will appear here.')}function A(L){function M(P){var Q=O+40;for(O;O<Math.min(Q,L.length);O++){var R=L[O];if(P===C)y(R.Name,R.Section,R.Difficulty,R.Quality,R.Length+' miles',R.USGS,R.Writeup);else break}O<L.length&&P===C&&setTimeout(function(){requestAnimationFrame(function(){M(P)})},60)}C+=1;var N=C;z();var O=0;0<L.length&&M(N)}function B(){for(var S,L=a('SearchBox').value.toLowerCase().trim(),M=[],N=[],O=[],P=[],Q=[],R=0;R<RiverArray.length;R++)S=RiverArray[R],-1===S.Tags.toLowerCase().indexOf(L)?-1===S.Name.toLowerCase().indexOf(L)?-1===S.Section.toLowerCase().indexOf(L)?-1===S.Difficulty.toLowerCase().indexOf(L)?-1!==S.Writeup.toLowerCase().indexOf(L)&&Q.push(S):0===S.Difficulty.toLowerCase().indexOf(L)?P.push(S):-1===S.Writeup.toLowerCase().indexOf(L)&&Q.push(S):O.push(S):N.push(S):-1===S.Name.toLowerCase().indexOf(L)?M.push(S):M.splice(0,0,S);for(var R=0;R<N.length;R++)M.push(N[R]);for(var R=0;R<O.length;R++)M.push(O[R]);for(var R=0;R<P.length;R++)M.push(P[R]);0<Q.length&&M.push({Name:'Less',Section:'Relevant',Difficulty:'Results',Quality:'Below',Length:'',Writeup:'Results below contained the search query, but not in a way that was clearly related to the search query. The results shown below may not be what you are looking for.'});for(var R=0;R<Q.length;R++)M.push(Q[R]);A(M),0===M.length&&y('Not Found','Not Found','Not Found','Not Found','Not Found','No Rivers were found for your search query.')}try{null!==localStorage.getItem('TimeStamp')&&6e5<Date.now()-localStorage.getItem('TimeStamp')?(f(),setInterval(f,6e4),a('ReloadAll').hidden='',navigator.onLine&&(a('ReloadAllButton').style='display: inline'),window.addEventListener('offline',function(){a('ReloadAllButton').style='display: none'}),window.addEventListener('offline',function(){a('ReloadAllButton').style='display: inline'}),a('ReloadAllButton').addEventListener('click',b),a('ReloadAllButton').value='Update Now',f()):null===localStorage.getItem('TimeStamp')&&localStorage.setItem('TimeStamp',Date.now())}catch(L){console.warn(L)}window.addEventListener('resize',function(){setTimeout(g,100)});var C=0;A(RiverArray),g(),a('SearchBox').addEventListener('keydown',K);var D='',E=window.location.href;E=decodeURIComponent(E);var F=E.slice(E.indexOf('?')+1);0===F.indexOf('q=cache:')&&(F='',setTimeout(function(){alert('It appears that you have been redirected from Google\'s Webcache to this page. You are now at the actual site.')},1e3)),E!==F&&(document.getElementById('SearchBox').value=F,B(),D=F)}
