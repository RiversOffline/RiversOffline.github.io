#Make sure .htaccess files aren't disabled.

#Apache will serve files with a different charset, and break unicode characters, unless this is set.
AddDefaultCharset UTF-8

RewriteEngine On
#Redirect http to https
RewriteCond %{HTTPS} off
RewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]

#Strict transport security - force https in future.
Header always set Strict-Transport-Security "max-age=63072000; preload; includeSubdomains" env=HTTPS


SetOutputFilter DEFLATE
#Max deflate compression level. Levels are 0-9
#DeflateCompressionLevel 9

#TODO: Brotli doesn't appear to be working. Compression levels are resulting in not allowed here error.
#SetOutputFilter BROTLI_COMPRESS
#Max brotli compression levels before speed totally plummets. Levels are 0-11.
#BrotliCompressionQuality 9
