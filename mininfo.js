"use strict";function GetId(a){return document.getElementById(a)}function ReloadAllCache(){"use strict";localStorage.setItem("TimeStamp",Date.now()),caches.delete("rivers.run").then(function(){window.location.reload(!0)}).catch(function(){window.location.reload(!0)})}function UpdateTime(){try{if(null!==localStorage.getItem("TimeStamp")&&6e5<Date.now()-localStorage.getItem("TimeStamp")){var a=Math.floor(Math.floor((Date.now()-localStorage.getItem("TimeStamp"))/1e3)/60),b=Math.floor(a/60);a%=60;var d=Math.floor(b/24);b%=24;var f="";0!==d&&(1===d?f=f+d+" day ":f=f+d+" days "),0!==b&&(1===b?f=f+b+" hour ":f=f+b+" hours "),0!==a&&(1===a?f=f+a+" minute ":f=f+a+" minutes "),GetId("ReloadAllText").innerHTML="You're viewing a cached version of this site from "+f+" ago."}}catch(g){console.log(g)}}try{null!==localStorage.getItem("TimeStamp")&&6e5<Date.now()-localStorage.getItem("TimeStamp")?(UpdateTime(),setInterval(UpdateTime,6e4),GetId("ReloadAll").hidden="",navigator.onLine&&(GetId("ReloadAllButton").style="display: inline"),window.addEventListener("offline",function(){GetId("ReloadAllButton").style="display: none"}),window.addEventListener("offline",function(){GetId("ReloadAllButton").style="display: inline"}),GetId("ReloadAllButton").addEventListener("click",ReloadAllCache),GetId("ReloadAllButton").value="Update Now",UpdateTime()):null===localStorage.getItem("TimeStamp")&&localStorage.setItem("TimeStamp",Date.now())}catch(a){console.log(a)}window.addEventListener("resize",function(){setTimeout(RotateHandler,100)}),window.addEventListener("resize",function(){setTimeout(SortListGen,100)});function RotateHandler(){document.documentElement.style.setProperty("--screenheight",Math.floor(window.innerHeight/1.15)+"px");var a=750/window.innerWidth;a=1>a?Math.pow(a,0.55):2.5>a?Math.pow(a,0.5):Math.max(Math.pow(a,0.5),Math.pow(2.67,0.5)),a=2.4*a+"vw",document.documentElement.style.setProperty("--textsize",a)}try{"serviceWorker"in navigator&&navigator.serviceWorker.register("https://rivers.run/serviceworker.js").then(function(){}).catch(function(){})}catch(a){console.log(a)}function AddElement(a,b,d,f,g,h){function j(q){var r=document.createElement("Span");r.innerHTML=void 0===q?"Not Found":q,r.className="riverspan",l.appendChild(r)}var k=GetId("Rivers"),l=document.createElement("button");l.className="accordion";var m=document.createElement("Div");if(m.className="panel",j(a),j(b),j(d),"Quality"===f||"Below"===f||"Not Found"===f)j(f);else{var n;switch(parseInt(f)){case 1:n="1Star";break;case 2:n="2Stars";break;case 3:n="3Stars";break;case 4:n="4Stars";break;case 5:n="5Stars";break;default:n="Error";}if("Error"===n)j("Invalid Value");else{var o=document.createElement("span"),p=document.createElement("img");p.src="https://rivers.run/resources/"+n+".png",o.className="riverspan",o.appendChild(p),l.appendChild(o)}}j(g),m.innerHTML=void 0===h?"This River has no Writeup.":h,l.addEventListener("click",function(){this.classList.toggle("active");var q=this.nextElementSibling;q.style.maxHeight?(q.style.maxHeight=null,q.style.padding="0px",q.hidden="hidden"):(q.style.maxHeight="100%",q.style.padding="10px",q.hidden="")}),"Relevant"===b&&(l.id="lessrelevant"),m.hidden="hidden",k.appendChild(l),k.appendChild(m)}function ClearList(){for(var a=GetId("Rivers");a.firstChild;)a.removeChild(a.firstChild);AddElement("River Name","Section","Difficulty","Quality","Length (Miles)","The River's Write-up will appear here.")}function CreateList(a){function b(){var f=d+40;for(d;d<Math.min(f,a.length);d++){var g=a[d];AddElement(g.Name,g.Section,g.Difficulty,g.Quality,g.Length+" miles",g.Writeup)}d<a.length&&setTimeout(function(){requestAnimationFrame(b)},50)}ClearList();var d=0;0<a.length&&b()}CreateList(RiverArray),RotateHandler(),GetId("SearchBox").addEventListener("keydown",function(){setTimeout(SortListGen,20)});function SortListGen(){for(var k,a=GetId("SearchBox").value.toLowerCase().trim(),b=[],d=[],f=[],g=[],h=[],j=0;j<RiverArray.length;j++)k=RiverArray[j],-1===k.Name.toLowerCase().indexOf(a)?-1===k.Tags.toLowerCase().indexOf(a)?-1===k.Section.toLowerCase().indexOf(a)?-1===k.Difficulty.toLowerCase().indexOf(a)?-1!==k.Writeup.toLowerCase().indexOf(a)&&h.push(k):0===k.Difficulty.toLowerCase().indexOf(a)?g.push(k):-1===k.Writeup.toLowerCase().indexOf(a)&&h.push(k):f.push(k):d.push(k):b.push(k);for(var j=0;j<d.length;j++)b.push(d[j]);for(var j=0;j<f.length;j++)b.push(f[j]);for(var j=0;j<g.length;j++)b.push(g[j]);0<h.length&&b.push({Name:"Less",Section:"Relevant",Difficulty:"Results",Quality:"Below",Length:"",Writeup:"Results below contained the search query, but not in a way that was clearly related to the search query. The results shown below may not be what you are looking for."});for(var j=0;j<h.length;j++)b.push(h[j]);CreateList(b),0===b.length&&AddElement("Not Found","Not Found","Not Found","Not Found","Not Found","No Rivers were found for your search query.")}var ThisURL=window.location.href;ThisURL=decodeURIComponent(ThisURL);var Query=ThisURL.slice(ThisURL.indexOf("?")+1);0===Query.indexOf("q=cache:")&&(Query="",setTimeout(function(){alert("It appears that you have been redirected from Google's Webcache to this page. You are now at the actual site.")},1e3)),ThisURL!==Query&&(document.getElementById("SearchBox").value=Query,SortListGen());
